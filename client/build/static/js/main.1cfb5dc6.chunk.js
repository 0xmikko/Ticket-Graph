(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{212:function(e,t,a){},249:function(e,t,a){e.exports=a(498)},387:function(e,t,a){},398:function(e,t,a){},399:function(e,t,a){},481:function(e,t,a){},498:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(17),o=a.n(i),s=a(244),c=a.n(s),l=a(107),u=a(14),p=a(6),d=a(7),m=a(9),h=a(8),E=a(10),f=a(509),b=a(240),v=a(247),g=a(510),y=a(514),O=a(500),j=a(511),_=a(513),S=a(502),C=a(501),A=a(499),L=a(91),w=a(15),D=a(33),T=a(108),I=a.n(T),R=function(e,t){return Object(w.a)({},e,t)},k="@@jwt/TOKEN_RECEIVED",F={access:void 0,refresh:void 0,errors:{},signup_success:!1},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case"@@jwt/LOGIN_SUCCESS":return Object(w.a)({},e,{access:Object(w.a)({token:t.payload.access},I()(t.payload.access)),refresh:Object(w.a)({token:t.payload.refresh},I()(t.payload.refresh)),profile:void 0,isVerified:void 0,errors:{}});case k:return R(e,Object(w.a)({},e,{access:Object(w.a)({token:t.payload.access},I()(t.payload.access))}));case"@@jwt/LOGIN_FAILURE":case"@@jwt/TOKEN_FAILURE":case"@@jwt/SIGNUP_FAILURE":return Object(w.a)({},e,{access:void 0,refresh:void 0,errors:t.payload.response||{non_field_errors:t.payload.statusText}});case"@@jwt/LOGOUT":return Object(w.a)({},e,{access:void 0,refresh:void 0});case"@@jwt/SIGNUP_SUCCESS":return Object(w.a)({},e,{signup_success:!0});default:return e}};function N(e){return!e.refresh||!e.refresh.exp||1e3*e.refresh.exp-(new Date).getTime()<5e3}var x={isLoading:!1,options:[]},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(console.log("SEARCH",t),t.type){case"SEARCH/QUERY_REQUEST":return R(e,Object(w.a)({},e,{isLoading:!0}));case"SEARCH/QUERY_SUCCESS":return R(e,Object(w.a)({},e,{isLoading:!1,options:t.payload.options}));default:return e}},q="@@status/ACTIVE",H="@@status/LOADING",M="@@status/UPDATING",G={lists:{},details:{},updates:{},search:{}},B=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,a=arguments.length>1?arguments[1]:void 0,n={};switch(a.type){case"@@DATA_LOADER/LIST_REQUEST":return n[a.meta.resource]={status:H,data:[]},R(t,Object(w.a)({},t,{lists:R(t.lists,n)}));case"@@DATA_LOADER/UPDATE_LIST_REQUEST":return n[a.meta.resource]=Object(w.a)({},t.lists[a.meta.resource],{status:M}),R(t,Object(w.a)({},t,{lists:Object(w.a)({},n)}));case"@@DATA_LOADER/LIST_SUCCESS":var r=void 0!==a.payload.results?a.payload.results:a.payload,i=[];r.map(function(e){return i[void 0===e.uuid?e.id:e.uuid]=e});var o=t.lists[a.meta.resource].query,s=a.meta.query;console.log("QQQ1",a.meta),console.log("QQQ1",o),console.log("QQQ2",s);var c=s===o?t.lists[a.meta.resource].data:void 0;return n[a.meta.resource]={status:"@@status/SUCCESS",data:Object(w.a)({},c,i),count:a.payload.count,previous:a.payload.previous,next:a.payload.next,query:s},R(t,Object(w.a)({},t,{lists:R(t.lists,n)}));case"@@DATA_LOADER/LIST_FAILURE":return n[a.meta.resource]={status:"@@status/FAILURE",data:[]},R(t,Object(w.a)({},t,{lists:R(t.lists,n)}));case"@@DATA_LOADER/DETAIL_REQUEST":return n[a.meta.resource]=t.details[a.meta.resource]||{},n[a.meta.resource][a.meta.id]={status:H},R(t,Object(w.a)({},t,{details:R(t.details,n)}));case"@@DATA_LOADER/DETAIL_SUCCESS":return console.log("DETAILS",t.details),(e={})[a.meta.hash||0]=+Date.now(),n[a.meta.resource]=t.details[a.meta.resource]||{},n[a.meta.resource][a.meta.id]={status:"@@status/SUCCESS",data:a.payload},R(t,Object(w.a)({},t,{details:R(t.details,n),updates:R(t.updates,e)}));case"@@DATA_LOADER/DETAIL_FAILURE":return n[a.meta.resource]={},n[a.meta.resource][a.meta.id]={status:"@@status/FAILURE",data:[]},R(t,Object(w.a)({},t,{details:Object(w.a)({},n)}));case"@@DATA_LOADER/DELETE_SUCCESS":return(e={})[a.meta.hash||0]=+Date.now(),n[a.meta.resource]=t.lists[a.meta.resource],console.log("DELETE",a.meta.resource),console.log("DELETE",n),n[a.meta.resource]&&(r=n[a.meta.resource].data)[a.meta.id]&&delete r[a.meta.id],console.log("DELETE",n),R(t,Object(w.a)({},t,{lists:R(t.lists,n),updates:R(t.updates,e)}));case"@@SEARCH/COMPONENT":if(!a.resource)throw"No resource for search were sent";var l={};return l[a.resource]=a.query,R(t,Object(w.a)({},t,{search:R(t.updates,l)}));default:return t}},Q={modals:{},confirmation:{}},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;console.log("REDUCER STATE",e),console.log("REDUCER ACTION",t);var a=e.modals,n=e.confirmation;switch(t.type){case"@@FORMS/SHOW":return a[t.formId]={show:!0,data:t.data},R(e,Object(w.a)({},e,{modals:R(e.modals,a)}));case"@@FORMS/NEW_SUCCESS":var r=t.payload;return r.id="new",a[t.meta.formId]={show:!0,data:r},R(e,Object(w.a)({},e,{modals:R(e.modals,a)}));case"@@FORMS/HIDE":var i=e.modals.formId?e.modals.formId.data:void 0;return a[t.formId]={show:!1,data:i},R(e,Object(w.a)({},e,{modals:R(e.modals,a)}));case"@@CONFIRMATIONS/SHOW":return n={show:!0,data:t.data},R(e,Object(w.a)({},e,{confirmation:R(e.confirmation,n)}));case"@@CONFIRMATIONS/HIDE":return n={show:!1},R(e,Object(w.a)({},e,{confirmation:R(e.confirmation,n)}));default:return e}},z={lists:{},updates:{}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0,a={};switch(t.type){case"@@TYPEAHEAD/LIST_REQUEST":return a[t.meta.resource]={status:H,data:[]},R(e,Object(w.a)({},e,{lists:Object(w.a)({},a)}));case"@@TYPEAHEAD/LIST_SUCCESS":var n=void 0!==t.payload.results?t.payload.results:t.payload;return a[t.meta.resource]={status:"@@status/SUCCESS",data:n},R(e,Object(w.a)({},e,{lists:R(e.lists,a)}));case"@@TYPEAHEAD/LIST_FAILURE":return a[t.meta.resource]={status:"@@status/FAILURE",data:[]},R(e,Object(w.a)({},e,{lists:R(e.lists,a)}));default:return e}},W=function(e){return function(e){return!N(e)}(e.auth)},Y=function(e){return function(e){if(e.access)return e.access.token}(e.auth)},J=function(e){return function(e){return!e.access||!e.access.exp||1e3*e.access.exp-(new Date).getTime()<5e3}(e.auth)},X=function(e){return function(e){if(e.refresh)return e.refresh.token}(e.auth)},Z=function(e){return function(e){return e.errors}(e.auth)},$=function(e){return function(e){return e}(e.auth)},ee=function(e){return function(e){return e.signup_success}(e.auth)},te=function(e){return function(e){return e}(e.search)},ae=function(e){return function(e){return e.lists}(e.dataLoader)},ne=function(e){return function(e){return e.details}(e.dataLoader)},re=function(e){return function(e){return e.updates}(e.dataLoader)},ie=function(e){return function(e){return e.search}(e.dataLoader)},oe=function(e){return function(e){return e.modals}(e.modals)},se=function(e){return function(e){return e.confirmation}(e.modals)},ce=function(e){return function(e){return e.lists}(e.typeAhead)};function le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return Object(w.a)({},e,{Authorization:"Bearer ".concat(Y(t))})}}var ue=a(18),pe=a(22),de=function(e,t){e=decodeURI(e);var a=0;for(var n in t){var r=t[n];r&&(e+=(0===a?"?":"&")+n+"="+r,a++)}return e},me=function(e,t,a){return e.includes(":id")?e=e.replace(":id",t.toString()):void 0!==t&&(e+=t),e+=e.endsWith("/")?"":"/",de(e,a)},he=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={isRedirect:!1,redirectURL:null},a.onChange=function(e){var t=e[0];a.setState({isRedirect:!0,redirectURL:t.url})},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;if(console.log(this.props.result||"No results yet"),this.state.isRedirect){var t=this.state.redirectURL;return this.setState({isRedirect:!1,redirectURL:null}),r.a.createElement(A.a,{to:t})}return r.a.createElement(L.AsyncTypeahead,{isLoading:this.props.result.isLoading,onSearch:function(t){return e.props.onSearch(t)},options:this.props.result.options,align:"right",onChange:function(t){return e.onChange(t)}})}}]),t}(n.Component),Ee=Object(u.c)(function(e){return{result:te(e)}},function(e){return{onSearch:function(t){return e(function(e){return Object(ue.a)({},pe.RSAA,{endpoint:de("/api/search/?query=".concat(e)),method:"GET",headers:le({"Content-Type":"application/json"}),types:["SEARCH/QUERY_REQUEST","SEARCH/QUERY_SUCCESS","SEARCH/QUERY_FAILURE"]})}(t))}}})(he),fe=(a(387),function(e){var t=r.a.createElement(y.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(O.a,{className:"mr-auto"},r.a.createElement(O.a.Link,{style:{marginLeft:20}}),r.a.createElement(Ee,{className:"mr-sm-2"})),r.a.createElement(O.a,{variant:"right"},r.a.createElement(O.a.Item,{bsPrefix:"nav-link"},r.a.createElement(C.a,{to:"/clients/"},"Clients")),r.a.createElement(O.a.Item,{bsPrefix:"nav-link"},r.a.createElement(C.a,{to:"/deals/"},"Deals")),r.a.createElement(O.a.Item,{bsPrefix:"nav-link"},r.a.createElement(C.a,{to:"/projects/"},"Projects")),r.a.createElement(O.a.Item,{bsPrefix:"nav-link"},r.a.createElement(C.a,{to:"/services/"},"Services")),r.a.createElement(O.a.Item,{bsPrefix:"nav-link"},r.a.createElement(C.a,{to:"/suppliers/"},"Suppliers")),r.a.createElement(j.a,{inline:!0}),r.a.createElement(_.a,{title:"Account",id:"basic-nav-dropdown",alignRight:!0},r.a.createElement(_.a.Item,{href:"#action/3.1"},"Action"),r.a.createElement(_.a.Item,{href:"#action/3.2"},"Another action"),r.a.createElement(_.a.Item,{href:"#action/3.3"},"Something"),r.a.createElement(_.a.Divider,null),r.a.createElement(_.a.Item,{onClick:e.onLogout},"Logout")))),a=r.a.createElement(y.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(O.a,{className:"mr-auto"}),r.a.createElement(O.a,{variant:"right"},r.a.createElement(O.a,{key:3.1},r.a.createElement(C.a,{to:"/login"},"SIGN IN ")),r.a.createElement(O.a,{key:3.2},r.a.createElement(C.a,{to:"/signup"},"SIGN UP "))));return r.a.createElement(S.a,{fluid:!0,style:{backgroundColor:"#F0F0FF",paddingLeft:20,paddingRight:40}},r.a.createElement(y.a,{style:{textColor:"#000000",paddingLeft:20,paddingRight:40}},r.a.createElement(y.a.Brand,{href:"/"},r.a.createElement("strong",null,"Omnistory")),r.a.createElement(y.a.Toggle,{"aria-controls":"basic-navbar-nav"}),e.isAuthenticated?t:a))}),be=a(503),ve=a(234),ge=(a(398),function(e){return r.a.createElement("footer",{className:"footer navbar-fixed-bottom"},r.a.createElement(S.a,{fluid:!0},r.a.createElement(be.a,null,r.a.createElement(ve.a,{sm:6},"2019 \xa9 Mikhail Lazarev, All rights reserved"),r.a.createElement(ve.a,{sm:6},r.a.createElement("a",{href:"http://t.me/mikael_l",target:"_blank",rel:"noopener noreferrer"},"Contact")))))}),ye=a(517),Oe=a(235),je=a(504),_e=a(236),Se=function(e){var t=e.name,a=e.label,n=e.error,i=e.type,o=Object(_e.a)(e,["name","label","error","type"]),s="id_".concat(t),c=i||"text";return r.a.createElement(j.a.Group,{color:n?"danger":""},a?r.a.createElement(j.a.Label,{htmlFor:s},a):"",r.a.createElement(j.a.Control,Object.assign({type:c,name:t,id:s,className:n?"is-invalid":""},o)),n?r.a.createElement(j.a.Control.Feedback,{type:"invalid"},n):"")},Ce=(a(212),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.handleInputChange=function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name;a.setState(Object(ue.a)({},r,n))},a.onSubmit=function(e){e.preventDefault(),a.props.onSubmit(a.state.username,a.state.password)},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.errors||{};return r.a.createElement("div",{className:"container-group"},r.a.createElement(ye.a,{className:"login-panel"},r.a.createElement("h2",{className:"welcome-text",style:{marginBottom:0,marginTop:10,textAlign:"left"}},"Log into MicroCRM"),r.a.createElement("div",{style:{marginBottom:20,textAlign:"left"}},"New to MicroCRM? \xa0",r.a.createElement(C.a,{to:"/signup/"},"Sign Up")),r.a.createElement("a",{href:me("/api/auth/google/")},r.a.createElement(Oe.a,{className:"login-button",variant:"outline-primary"},"Login with Google")),r.a.createElement("br",null),"or",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(j.a,{onSubmit:this.onSubmit},e.non_field_errors?r.a.createElement(je.a,{color:"danger"},e.non_field_errors):"",r.a.createElement(Se,{name:"username",placeholder:"E-mail",error:e.username,onChange:this.handleInputChange,className:"login-input"}),r.a.createElement(Se,{name:"password",placeholder:"Password",error:e.password,type:"password",onChange:this.handleInputChange,className:"login-input"}),r.a.createElement(Oe.a,{type:"submit",className:"login-button"},"SIGN IN"))))}}]),t}(n.Component)),Ae=function(e,t){return Object(ue.a)({},pe.RSAA,{endpoint:de("/auth/signup/"),method:"POST",body:JSON.stringify({email:e,password:t}),headers:{"Content-Type":"application/json"},types:["@@jwt/SIGNUP_REQUEST","@@jwt/SIGNUP_SUCCESS","@@jwt/SIGNUP_FAILURE"]})},Le=function(e){return Object(ue.a)({},pe.RSAA,{endpoint:de("/auth/token/refresh/"),method:"POST",body:JSON.stringify({refresh:e}),headers:{"Content-Type":"application/json"},types:["@@jwt/TOKEN_REQUEST",k,"@@jwt/TOKEN_FAILURE"]})},we=(a(399),Object(u.c)(function(e){return{errors:Z(e),isAuthenticated:W(e)}},function(e){return{onSubmit:function(t,a){return e(function(e,t){return Object(ue.a)({},pe.RSAA,{endpoint:de("/auth/token/obtain/"),method:"POST",body:JSON.stringify({username:e,password:t}),headers:{"Content-Type":"application/json"},types:["@@jwt/LOGIN_REQUEST","@@jwt/LOGIN_SUCCESS","@@jwt/LOGIN_FAILURE"]})}(t,a))}}})(function(e){return r.a.createElement(Ce,e)})),De=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",emailCorrect:!1,more8:!1,less20:!1,oneCapital:!1,oneNumber:!1,passwdEquals:!0,formCorrect:!1,changedAfterSubmit:!0},a.handleInputChange=function(e,t){var n,r,i=e.target,o="checkbox"===i.type?i.checked:i.value,s=i.name;switch(a.setState((n={},Object(ue.a)(n,s,o),Object(ue.a)(n,"changedAfterSubmit",!0),n)),t){case"email":r=a.validateEmail(o)&&a.validatePassword(a.state.password);break;case"password":r=a.validatePassword(o)&&a.validateEmail(a.state.username)}a.setState({formCorrect:r})},a.validateEmail=function(e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase());return a.setState({emailCorrect:t}),t},a.validatePassword=function(e){var t={more8:!0,oneLowerCase:!0,oneUpperCase:!0,oneNumber:!0,passwdEquals:!0},n=!0,r=e.length;return(r<8||r>20)&&(t.more8=!1,n=!1),e===e.toUpperCase()&&(t.oneLowerCase=!1,n=!1),e===e.toLowerCase()&&(t.oneUpperCase=!1,n=!1),e.match(/\d+/g)||(t.oneNumber=!1,n=!1),a.setState(t),n},a.onSubmit=function(e){e.preventDefault(),a.props.onSubmit(a.state.username,a.state.password),a.setState({changedAfterSubmit:!1})},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props.errors||{};return r.a.createElement("div",{className:"container-group"},r.a.createElement(ye.a,{className:"signup-panel"},r.a.createElement("h2",{className:"welcome-text",style:{marginBottom:0,marginTop:10,textAlign:"left"}},"Log into MicroCRM"),r.a.createElement("div",{style:{marginBottom:20,textAlign:"left"}},"Have already account? \xa0",r.a.createElement(C.a,{to:"/login/"},"Log in")),r.a.createElement(j.a,{onSubmit:this.onSubmit},t.length>0&&!this.state.changedAfterSubmit?r.a.createElement(je.a,{color:"danger"},t):"",r.a.createElement(Se,{name:"username",placeholder:"E-mail",error:t.username,onChange:function(t){return e.handleInputChange(t,"email")},className:"login-input"}),r.a.createElement(j.a.Control,{name:"password",type:"password",value:this.state.value,placeholder:"Password",onChange:function(t){return e.handleInputChange(t,"password")},className:"login-input"}),r.a.createElement(j.a.Label,null),r.a.createElement(j.a.Label,{style:{color:this.state.emailCorrect?"#009900":"#777777",margin:"10px 0 0 0"}},"Correct email as username"),r.a.createElement("br",null),r.a.createElement(j.a.Label,{style:{color:this.state.more8?"#009900":"#777777",margin:0}},"Password should be more 8 and less 20 symbols"),r.a.createElement("br",null),r.a.createElement(j.a.Label,{style:{color:this.state.oneUpperCase?"#009900":"#777777",margin:0}},"At least one upper case letter"),r.a.createElement("br",null),r.a.createElement(j.a.Label,{style:{color:this.state.oneLowerCase?"#009900":"#777777",margin:0}},"At least one lower case letter"),r.a.createElement("br",null),r.a.createElement(j.a.Label,{style:{color:this.state.oneNumber?"#009900":"#777777",margin:"0 0 10px 0"}},"Should be one number"),r.a.createElement("br",null),r.a.createElement(Oe.a,{type:"submit",size:"lg",className:"login-button",disabled:!this.state.formCorrect},"Sign Up"),r.a.createElement("br",null),r.a.createElement("br",null))))}}]),t}(n.Component),Te=Object(u.c)(function(e){return{errors:Z(e),isAuthenticated:W(e)}},function(e){return{onSubmit:function(t,a){return e(Ae(t,a))}}})(De),Ie=Object(u.c)(function(e){return{errors:Z(e),isAuthenticated:W(e),signup_success:ee(e)}},function(e){return{onSubmit:function(t,a){return e(Ae(t,a))}}})(function(e){return void 0!==e.signup_success&&e.signup_success?"You were sucessfully signup":r.a.createElement("div",{className:"login-page"},r.a.createElement(Te,e))}),Re=a(104),ke=a.n(Re),Fe=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=ke.a.parse(this.props.location.search);return console.log("CODE",e.code),e.code?(this.props.onCodeRecevived("google-oauth2",e.code),r.a.createElement(A.a,{to:t})):r.a.createElement("div",null,"Google Auth Complete")}}]),t}(r.a.Component),Ue=Object(u.c)(function(e){return{errors:Z(e),isAuthenticated:W(e)}},function(e){return{onCodeRecevived:function(t,a){e(function(e,t){return Object(ue.a)({},pe.RSAA,{endpoint:de("/auth/google/done/"),method:"POST",body:JSON.stringify({provider:e,code:t}),headers:{"Content-Type":"application/json"},types:["@@jwt/LOGIN_REQUEST","@@jwt/LOGIN_SUCCESS","@@jwt/LOGIN_FAILURE"]})}(t,a))}}})(Fe),Ne=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null," Page not Found "),r.a.createElement("br",null),r.a.createElement("p",null,"You can open"))},xe=a(12),Pe=a(505),qe=function(e,t,a){var n=de(e,a);return console.log("QQQ5",a),Object(ue.a)({},pe.RSAA,{endpoint:n,method:"GET",headers:le({"Content-Type":"application/json"}),types:[{type:"@@DATA_LOADER/LIST_REQUEST",meta:{resource:t,query:a.query}},{type:"@@DATA_LOADER/LIST_SUCCESS",meta:{resource:t,query:a.query}},{type:"@@DATA_LOADER/LIST_FAILURE",meta:{resource:t,query:a.query}}]})},He=function(e,t,a,n,r){var i=n?"@@DATA_LOADER/DETAIL_UPDATE":"@@DATA_LOADER/DETAIL_REQUEST";return Object(ue.a)({},pe.RSAA,{endpoint:me(e,a,r),method:"GET",headers:le({"Content-Type":"application/json"}),types:[{type:i,meta:{resource:t,id:a,query:r.query}},{type:"@@DATA_LOADER/DETAIL_SUCCESS",meta:{resource:t,id:a,query:r.query}},{type:"@@DATA_LOADER/DETAIL_FAILURE",meta:{resource:t,id:a,query:r.query}}]})},Me=function(e,t,a,n,r){if(console.log("[APC]: Update Data Loader Detail",e,t,a,n,r),void 0===e||void 0===t||void 0===a)throw"Error in updateDataLoaderDetail, wrong parameters!\napi:"+e+"\nresource: "+t+"\nid: "+a;var i={"Content-Type":"application/x-www-form-urlencoded"};void 0===r&&(r=0),n instanceof FormData||(i={"Content-Type":"application/json"},n=JSON.stringify(n));var o="new"===a?"POST":"PUT";return e="new"!==a?me(e,a):me(e),console.log("DATA SENT:",n),Object(ue.a)({},pe.RSAA,{endpoint:e,method:o,headers:le(i),body:n,types:[{type:"@@DATA_LOADER/UPLOAD_REQUEST",meta:{resource:t,id:a,hash:r}},{type:"@@DATA_LOADER/DETAIL_SUCCESS",meta:{resource:t,id:a,hash:r}},{type:"@@DATA_LOADER/UPLOAD_FAILURE",meta:{resource:t,id:a,hash:r}}]})},Ge=function(e,t,a,n){return Object(ue.a)({},pe.RSAA,{endpoint:de(e+a+"/"),method:"DELETE",headers:le(),types:[{type:"@@DATA_LOADER/DELETE_REQUEST",meta:{resource:t,id:a,hash:n}},{type:"@@DATA_LOADER/DELETE_SUCCESS",meta:{resource:t,id:a,hash:n}},{type:"@@DATA_LOADER/DETAIL_FAILURE",meta:{resource:t,id:a,hash:n}}]})},Be=function(e,t,a,n,r){var i={};return i.alias=n,Object(ue.a)({},pe.RSAA,{endpoint:me(e+":id/merge/",a,i),method:"GET",headers:le(),types:[{type:"@@DATA_LOADER/DETAIL_UPDATE",meta:{resource:t,id:a,hash:r}},{type:"@@DATA_LOADER/DETAIL_SUCCESS",meta:{resource:t,id:a,hash:r}},{type:"@@DATA_LOADER/DETAIL_FAILURE",meta:{resource:t,id:a,hash:r}}]})},Qe=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e){e.preventDefault();var t=e.target.value.toLowerCase();console.log("Component Search"+t),a.props.searchComponent(a.props.resource,t)},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(j.a.Group,null,r.a.createElement(j.a.Control,{name:"search",value:this.props.componentSearch[this.props.resource],onChange:function(t){return e.onChange(t)}}))}}]),t}(n.Component),Ke=Object(u.c)(function(e){return{componentSearch:ie(e)}},function(e){return{searchComponent:function(t,a){return e(function(e,t){return{type:"@@SEARCH/COMPONENT",resource:e,query:t}}(t,a))}}})(Qe),ze=function(e){var t="";e.icon&&(t=r.a.createElement("a",{href:de("/images/"+e.icon+"/edit/")},r.a.createElement("img",{src:de("/images/get/"+e.icon),height:80,style:{marginRight:20}}))),e.back&&(t=r.a.createElement(C.a,{to:e.back},"Back"));var a=e.searchBar?r.a.createElement(Ke,{resource:e.resource}):void 0;return r.a.createElement(S.a,{fluid:!0,style:{backgroundColor:"#FAFBFC",paddingTop:15,paddingLeft:40,paddingRight:40,paddingBottom:15}},r.a.createElement(Pe.a,null,t,r.a.createElement(Pe.a.Body,null,r.a.createElement(be.a,null,r.a.createElement(ve.a,{sm:8},r.a.createElement("h3",null,e.header),r.a.createElement("p",null,e.subHeader," ")),r.a.createElement(ve.a,{sm:4},a)))))},Ve=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={hash:0},a.updateData=function(){var e=a.props.new_api||a.props.api,t={query:a.props.componentSearch[a.props.resource+a.props.id]};a.props.updateDetailDataLoader(e,a.props.resource,a.props.id,t)},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.updateData()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.componentSearch[this.props.resource+this.props.id]!==e.componentSearch[this.props.resource+this.props.id]&&this.updateData()}},{key:"render",value:function(){var e=this.props.id,t=this.props.resource;if(void 0===this.props.dataDetails||void 0===this.props.dataDetails[t]||void 0===this.props.dataDetails[t][e]||this.props.dataDetails[t][e].status===H)return"Loading...";var a=this.props.dataDetails[t][e];if("@@status/FAILURE"===a.status)return"Ooops! Something went wrong!";var n=a.data,i=this.props.children,o={data:n,api:this.props.api,id:e,updateData:this.updateData};return r.a.Children.map(i,function(e){return r.a.cloneElement(e,o)})}}]),t}(n.Component),We=function(e){return{dataDetails:ne(e),componentSearch:ie(e)}},Ye=function(e){return{getDetailDataLoader:function(t,a,n){return e(He(t,a,n))},updateDetailDataLoader:function(t,a,n,r){return e(He(t,a,n,!0,r))}}},Je=function(e){var t=Object(u.c)(We,Ye)(Ve),a=(e.component,void 0!==e.id?e.id:e.match.params.id),n=Object(w.a)({},e,{api:e.api,resource:e.resource,page:!0,id:a,new_api:e.new_api}),i=e.children,o=r.a.Children.map(i,function(e){return r.a.cloneElement(e,n)});return r.a.createElement(t,n,o)},Xe=function(e,t,a,n){return function(i){function o(){return Object(p.a)(this,o),Object(m.a)(this,Object(h.a)(o).apply(this,arguments))}return Object(E.a)(o,i),Object(d.a)(o,[{key:"render",value:function(){return r.a.createElement(Je,Object.assign({id:this.props.id,api:t,resource:a,component:e,new_api:n},this.props),r.a.createElement(e,null))}}]),o}(r.a.Component)},Ze=a(237),$e=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.api;this.props.api_id&&(e=this.props.api_id(this.props.id)),this.props.getOptionsList(e,this.props.resource)}},{key:"render",value:function(){var e=this;console.log("[TA] TypeAhead props",this.props),console.log("[TA] TypeAhead props",this.props.resource);var t=this.props.resource;if(void 0===this.props.optionsList||void 0===this.props.optionsList[t]||this.props.optionsList[t].status===H)return"Loading...";var a=this.props.optionsList[t];if("@@status/FAILURE"===a.status)return"Ooops! Something went wrong!";var n=this.props.name,i=this.props.values[n];return console.log("[TA] TypeAhead Component: Props: ",a.data),r.a.createElement(j.a.Group,{as:ve.a,md:this.props.sm},r.a.createElement(j.a.Label,null,this.props.title),r.a.createElement(L.Typeahead,Object.assign({name:n,options:a.data,labelKey:"value"},this.props,{multiple:!1,onChange:function(t){var a=t.length>0?t[0].id:"";e.props.setFieldValue(n,a)},onBlur:function(t){return e.props.setFieldTouched(n,!0)},defaultSelected:a.data.filter(function(e){return e.id===i})})))}}]),t}(n.Component),et=Object(u.c)(function(e){return{optionsList:ce(e)}},function(e){return{getOptionsList:function(t,a){return e(function(e,t,a){return Object(ue.a)({},pe.RSAA,{endpoint:de(e),method:"GET",headers:le({"Content-Type":"application/json"}),types:[{type:"@@TYPEAHEAD/LIST_REQUEST",meta:{resource:t,page:a}},{type:"@@TYPEAHEAD/LIST_SUCCESS",meta:{resource:t,page:a}},{type:"@@TYPEAHEAD/LIST_FAILURE",meta:{resource:t,page:a}}]})}(t,a))}}})($e),tt=function(e){return r.a.createElement(j.a.Group,{as:ve.a,md:e.sm},r.a.createElement(j.a.Label,null,e.title),r.a.createElement(j.a.Control,{as:e.as,type:e.type,name:e.name,value:e.values[e.name],onChange:e.handleChange,isInvalid:!!e.errors[e.name]}),r.a.createElement(j.a.Control.Feedback,{type:"invalid"},e.errors[e.name]))},at=function(e){return r.a.createElement(j.a.Group,{as:ve.a,md:e.sm},r.a.createElement(j.a.Label,null,"\xa0"),r.a.createElement(j.a.Check,Object.assign({label:e.title},e,{checked:e.values[e.name],onChange:function(){return e.setFieldValue(e.name,!e.values[e.name])}})))},nt=function(e){var t=Object.entries(e.options).map(function(e){return r.a.createElement("option",{value:e[0]},e[1])});return r.a.createElement(j.a.Group,{as:ve.a,md:e.sm},r.a.createElement(j.a.Label,null,e.title),r.a.createElement(j.a.Control,{as:"select",type:e.type,name:e.name,value:e.values[e.name],onChange:e.handleChange,isInvalid:!!e.errors[e.name]},t),r.a.createElement(j.a.Control.Feedback,{type:"invalid"},e.errors[e.name]))},rt=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={status:q,hashSent:0,redirect:void 0},a.onSubmit=function(e){console.log("FFF-FORM",e);var t="ForMIK"+a.props.resource+a.props.id+Date();a.setState({status:H,hashSent:t}),a.props.updateDetail(a.props.api,a.props.resource,a.props.id,e,t)},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){var n=this.state.hashSent;0!==n&&void 0!==this.props.hashUpdates[n]&&this.state.status===H&&(this.setState({status:"@@status/SUCCESS",hashSent:0}),this.props.onSuccessLink&&this.setState({redirect:!0}),"function"===typeof this.props.updateData&&this.props.updateData())}},{key:"render",value:function(){var e=this;if(console.log("[FOFORM]: FormikForm Component: Props: ",this.props),this.state.redirect)return r.a.createElement(v.a,{to:this.props.onSuccessLink});var t={};Object.entries(this.props.fieldList).map(function(e){return t[e[0]]=e[1].validation});var a=xe.object(Object(w.a)({},t));return r.a.createElement(Ze.Formik,{validationSchema:a,onSubmit:this.onSubmit,initialValues:Object(w.a)({},this.props.initialValues),render:function(t){var a=Object.entries(e.props.fieldList).map(function(e){var a=e[0],n=e[1],i=e[1].type||"text",o=Object(w.a)({name:a,type:i,title:n.title,sm:n.sm||12,key:a},t,e[1]);switch(i){case"text":case"password":return r.a.createElement(tt,o);case"select":return r.a.createElement(nt,o);case"textarea":return r.a.createElement(tt,Object.assign({},o,{as:"textarea"}));case"autocomplete":return r.a.createElement(et,o);case"checkbox":return r.a.createElement(at,o)}});return r.a.createElement(j.a,{noValidate:!0,onSubmit:t.handleSubmit},r.a.createElement(j.a.Row,null,a),r.a.createElement(Oe.a,{type:"submit"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))}})}}]),t}(n.Component),it=Object(u.c)(function(e){return{hashUpdates:re(e)}},function(e){return{updateDetail:function(t,a,n,r,i){return e(Me(t,a,n,r,i))}}})(rt),ot=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e={cost:{title:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c",sm:12,validation:xe.number().required("Required")},supplier:{title:"\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a",sm:12,type:"autocomplete",resource:"suppliers",api:"/api/suppliers/select/"},comment:{title:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",sm:12,validation:xe.string()}},t="/options/"+this.props.data.option+"/cont_options";return r.a.createElement("div",null,r.a.createElement(ze,{header:"\u0417\u0430\u043f\u0440\u043e\u0441 \u0446\u0435\u043d\u044b \u2116 ".concat(this.props.data.num," \u043e\u0442 ").concat(this.props.data.date),subHeader:this.props.data.comment}),r.a.createElement(S.a,{fluid:!0,style:{paddingLeft:40,paddingRight:40}},r.a.createElement(it,Object.assign({fieldList:e,onSubmit:this.onSubmit,initialValues:this.props.data,onSuccessLink:t},this.props))))}}]),t}(n.Component),st=function(e){var t;"new"===e.match.params.id&&void 0!==e.match.params.deal_id&&(t="/api/options/".concat(e.match.params.option_id,"/cont_options/"));var a=Xe(ot,"/api/cont_options/","cont_options",t);return r.a.createElement(a,e)},ct=a(515),lt=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={hasMore:!0},a.updateData=function(){console.log("UPDATE");var e={query:a.props.componentSearch[a.props.resource]};a.props.dataLoaderUpdateList(a.props.api,a.props.resource,e)},a.onLoadMore=function(){console.log("LOAD",a.props);var e=a.props.resource;if(void 0!==a.props.dataLists&&void 0!==a.props.dataLists[e]&&a.props.dataLists[e].status!==M){var t=a.props.dataLists[e],n=null!==t.next&void 0!==t.next;if(a.state.hasMore!=n&&a.setState({hasMore:n}),t.next){var r=ke.a.parseUrl(t.next);a.props.dataLoaderUpdateList(a.props.api,a.props.resource,r.query)}}},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e={query:this.props.componentSearch[this.props.resource]};this.props.getListDataLoader(this.props.api,this.props.resource,e)}},{key:"componentDidUpdate",value:function(e,t,a){this.props.componentSearch[this.props.resource]!==e.componentSearch[this.props.resource]&&this.updateData()}},{key:"render",value:function(){var e=this,t=this.props.resource;if(void 0===this.props.dataLists||void 0===this.props.dataLists[t]||this.props.dataLists[t].status===H)return"Loading...";var a=this.props.dataLists[t];if("@@status/FAILURE"===a.status)return"Ooops! Something went wrong!";var n=a.data,i=this.props.children;return r.a.Children.map(i,function(t){return r.a.cloneElement(t,{data:n,loadMore:e.onLoadMore,hasMore:e.state.hasMore,updateData:e.updateData})})}}]),t}(n.Component),ut=function(e){return{dataLists:ae(e),componentSearch:ie(e)}},pt=function(e){return{getListDataLoader:function(t,a,n){return e(qe(t,a,n))},dataLoaderUpdateList:function(t,a,n){return e(function(e,t,a){return Object(ue.a)({},pe.RSAA,{endpoint:de(e,a),method:"GET",headers:le({"Content-Type":"application/json"}),types:[{type:"@@DATA_LOADER/UPDATE_LIST_REQUEST",meta:{resource:t,query:a.query}},{type:"@@DATA_LOADER/LIST_SUCCESS",meta:{resource:t,query:a.query}},{type:"@@DATA_LOADER/LIST_FAILURE",meta:{resource:t,query:a.query}}]})}(t,a,n))}}},dt=Object(u.c)(ut,pt)(lt),mt=function(e){var t=Object(u.c)(ut,pt)(lt),a=e.component;return r.a.createElement(t,{api:e.api,resource:e.resource,page:!0},r.a.createElement(a,e))},ht=function(e,t,a){return function(n){function i(){return Object(p.a)(this,i),Object(m.a)(this,Object(h.a)(i).apply(this,arguments))}return Object(E.a)(i,n),Object(d.a)(i,[{key:"render",value:function(){return r.a.createElement(mt,{api:t,resource:a,component:e,id:this.props.id,history:this.props.local_history})}}]),i}(r.a.Component)},Et=function(e){return r.a.createElement("tr",null,r.a.createElement("td",{colSpan:e.colSpan,n:!0,align:e.align},r.a.createElement("strong",null,r.a.createElement("h5",{style:{marginBottom:0}},e.header))))};a(245);function ft(e){if(void 0===e)return"";var t=e.toString().split(".");return t[0].toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+"."+(t[1]||"00")}var bt=a(506);var vt=function(e){var t=e.tableHeader?e.tableHeader.map(function(e){var t=e.align||"left";return r.a.createElement("th",{width:e.width,style:{textAlign:t}},e.name)}):void 0;return r.a.createElement("thead",null,r.a.createElement("tr",null,t))};var gt=function(e){var t=r.a.createElement(bt.a,{style:{marginTop:14},hover:!0},r.a.createElement(vt,{tableHeader:e.tableHeader}),r.a.createElement("tbody",null,e.items));return r.a.createElement(S.a,{fluid:!0,style:{padding:0}},e.modalForms,e.toolbar,t)},yt=function(e){return r.a.createElement(C.a,{to:e.to},r.a.createElement(Oe.a,{size:"sm",style:{marginRight:10}},e.title))},Ot=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0; o<n; o++)i[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).sort=function(e, t){return e.date>t.date?-1:1},a.renderOneItem=function(e){a.props.renderLineToolbar&&r.a.createElement("td",null,a.props.renderLineToolbar(e.id,a.props.updateData));return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{onClick:function(){a.props.local_history.push("/projects/".concat(e.id))}},r.a.createElement("td",null,e.date),r.a.createElement("td",null,e.name),r.a.createElement("td",{align:"center"},ft(e.budget)),r.a.createElement("td",{align:"center"},ft(e.budget_fact)),r.a.createElement("td",null)))},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"renderItems",value:function(e){var t=this,a=2100;return Object.values(e).sort(this.sort).map(function(e){var n,i=parseInt(e.date.substr(0,4));return i!=a&&(a=i,n=r.a.createElement(Et,{colSpan:9,header:i,align:"center"})),[n,t.renderOneItem(e)]})}},{key:"renderToolbar",value:function(){return r.a.createElement(yt,{to:"/deals/".concat(this.props.id,"/projects/new/"),title:"+ Add"})}},{key:"render",value:function(){var e=this.renderItems(this.props.data),t=this.renderToolbar();return r.a.createElement(gt,{toolbar:t,tableHeader:[{name:"\u0414\u0430\u0442\u0430",width:"20%"},{name:"\u041d\u0430\u0437\u0432\u0430\u0430\u043d\u0438\u0435",width:"50%"},{name:"\u0411\u044e\u0434\u0436\u0435\u0442",width:"15%",align:"center"},{name:"\u0411\u044e\u0434\u0436\u0435\u0442 \u0444\u0430\u043a\u0442",width:"15%",align:"center"}],items:e})}}]),t}(n.Component),jt=function(e){return r.a.createElement(ye.a,{style:{backgroundColor:"#FAFBFC"}},r.a.createElement(ye.a.Header,null,r.a.createElement("table",{width:"100%"},r.a.createElement("tbody",null,r.a.createElement("tr",{valign:"center"},r.a.createElement("td",null,r.a.createElement("h5",{style:{margin:"0 0 0 0"}},e.title)),r.a.createElement("td",{align:"right"},e.rightToolbar))))),r.a.createElement(ye.a.Body,null,e.children))},_t="deals",St="/api/"+_t+"/",Ct=function(e){var t=r.a.createElement(yt,{to:"/"+_t+"/"+e.id+"/edit",title:"Edit"});return r.a.createElement(jt,{title:"Info",rightToolbar:t},"Client: ",r.a.createElement(C.a,{to:"/clients/"+e.data.client},e.data.client_display),r.a.createElement("br",null),"Created at: ",e.data.date,r.a.createElement("br",null))};var At=function(e){var t=e.children,a=r.a.Children.map(t,function(e){return r.a.createElement(O.a.Item,null,r.a.createElement(O.a.Link,{eventKey:e.props.eventKey},e.props.label))});return r.a.createElement(ct.a.Container,{activeKey:e.tab||"info",onSelect:function(t){return e.local_history.push("/"+e.resource+"/"+e.id+"/"+t)}},r.a.createElement(S.a,{fluid:!0,style:{backgroundColor:"#FAFBFC",paddingLeft:40,paddingRight:40}},r.a.createElement(O.a,{variant:"tabs"},a)),r.a.createElement(S.a,{fluid:!0,style:{paddingLeft:40,paddingRight:40}},r.a.createElement(ct.a.Content,{style:{marginTop:15}},e.children)))};var Lt=Xe(function(e){var t=ht(Ot,St+e.id+"/events/","events");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ze,{header:e.data.name,subHeader:e.data.date,icon:e.data.icon}),r.a.createElement(At,{id:e.id,resource:_t,tab:e.match.params.tab,history:e.local_history},r.a.createElement(ct.a.Pane,{eventKey:"info",label:"Info"},r.a.createElement(Ct,e)),r.a.createElement(ct.a.Pane,{eventKey:"projects",label:"Projects"},r.a.createElement(t,Object.assign({id:e.id},e))),r.a.createElement(ct.a.Pane,{eventKey:"finances",label:"Finances"},r.a.createElement(Oe.a,{size:"sm",variant:"light"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))))},St,_t),wt=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e={name:{title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0434\u0435\u043b\u043a\u0438",sm:6,validation:xe.string().required("Required")},date:{title:"\u0414\u0430\u0442\u0430",sm:6,validation:xe.date("Incorrect data format").required("\u0414\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0432\u0432\u0435\u0434\u0435\u043d\u0430 \u0434\u0430\u0442\u0430")},client:{title:"\u041a\u043b\u0438\u0435\u043d\u0442",type:"autocomplete",resource:"clients",api:"/api/clients/select/"},sum_plan:{title:"\u0421\u0443\u043c\u043c\u0430",sm:12,validation:xe.number().required()},official_name:{title:"\u041e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",sm:12,validation:xe.string()},google_drive:{title:"Google Drive",sm:12,validation:xe.string()}},t="new"!==this.props.id?"/deals/"+this.props.id:"/deals";return r.a.createElement("div",null,r.a.createElement(ze,{header:"\u0421\u0434\u0435\u043b\u043a\u0430 ".concat(this.props.data.name," \u043e\u0442 ").concat(this.props.data.date),subHeader:""}),r.a.createElement(S.a,{fluid:!0,style:{paddingLeft:40,paddingRight:40}},r.a.createElement(it,Object.assign({fieldList:e,onSubmit:this.onSubmit,initialValues:this.props.data,onSuccessLink:t},this.props))))}}]),t}(n.Component),Dt=Xe(wt,"/api/deals/","deals"),Tt=a(105),It=a.n(Tt),Rt=function(e){return r.a.createElement(It.a,{page:1,loadMore:e.loadMore,hasMore:e.hasMore},r.a.createElement(gt,{tableHeader:e.tableHeader,items:e.items}))},kt=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0; o<n; o++)i[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).renderOneItem=function(e){var t=a.props.renderLineToolbar?r.a.createElement("td",null,a.props.renderLineToolbar(e.id,a.props.updateData)):void 0;return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{onClick:function(){a.props.local_history.push("/deals/".concat(e.id))}},r.a.createElement("td",null,e.date),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.client_display),r.a.createElement("td",{align:"right",style:{paddingRight:40}},ft(e.sum_plan)),r.a.createElement("td",{align:"right",style:{paddingRight:40}},ft(e.sum_fact)),t))},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"renderItems",value:function(e){var t=this,a=2100;return Object.values(e).sort(function(e, t){return e.date>t.date?-1:1}).map(function(e){var n,i=parseInt(e.date.substr(0,4));return i!=a&&(a=i,n=r.a.createElement(Et,{colSpan:9,header:i,align:"left"})),[n,t.renderOneItem(e)]})}},{key:"render",value:function(){var e=this.renderItems(this.props.data);return r.a.createElement(Rt,Object.assign({tableHeader:[{name:"Data",width:"15%"},{name:"Name",width:"40%"},{name:"Client",width:"20%"},{name:"Sum planned",width:"13%",align:"center"},{name:"Sum fact",width:"13%",align:"center"}],items:e},this.props))}}]),t}(n.Component),Ft=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).renderLineToolbar=function(e, t){return null},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ze,{header:"Deals",resource:_t,searchBar:!0}),r.a.createElement(S.a,{fluid:!0,style:{paddingLeft:40,paddingRight:40}},r.a.createElement(yt,{title:"+ Add",to:"/deals/new/edit"}),r.a.createElement(dt,{api:St,resource:_t},r.a.createElement(kt,{renderLineToolbar:this.renderLineToolbar,history:this.props.local_history}))))}}]),t}(n.Component),Ut=function(e){return r.a.createElement(ve.a,{sm:6,md:4,lg:3,style:{marginBottom:20}},r.a.createElement(ye.a,{style:{minHeight:340}},r.a.createElement(ye.a.Img,{top:!0,width:"100%",src:de("/images/get/"+e.icon),alt:"Card image cap"}),r.a.createElement(ye.a.Body,null,r.a.createElement(ye.a.Title,null,r.a.createElement(C.a,{to:"/projects/"+e.id},e.name)),r.a.createElement(ye.a.Text,null,e.date," "),r.a.createElement(ye.a.Text,null,r.a.createElement("small",{className:"text-muted"},"Last updated 3 mins ago")))))},Nt="projects",xt="/api/"+Nt+"/",Pt=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){console.log(this.resource);var e="2100-01",t=Object.values(this.props.data).sort(function(e,t){return e.date>t.date?-1:1}).map(function(t){var a=t.date.substr(0,7);return e>a?(e=a,r.a.createElement(r.a.Fragment,null,r.a.createElement(ve.a,{sm:12},a),r.a.createElement(Ut,Object.assign({key:"EC"+t.id},t)))):r.a.createElement(Ut,Object.assign({key:"EC"+t.id},t))});return r.a.createElement("div",null,r.a.createElement(ze,{header:"Projects",subHeader:"SubHeader",resource:Nt,searchBar:!0}),r.a.createElement(S.a,{fluid:!0,style:{paddingLeft:40,paddingRight:40}},r.a.createElement(It.a,{page:1,loadMore:this.props.loadMore,hasMore:this.props.hasMore},r.a.createElement(be.a,null,t))))}}]),t}(n.Component),qt=ht(Pt,xt,Nt),Ht=a(28),Mt=a(512),Gt=function(e,t){return Object(ue.a)({},pe.RSAA,{endpoint:me(t),method:"GET",headers:le({"Content-Type":"application/json"}),types:[{type:"@@FORMS/NEW_REQUEST",meta:{formId:e}},{type:"@@FORMS/NEW_SUCCESS",meta:{formId:e}},{type:"@@FORMS/HIDE",meta:{formId:e}}]})},Bt=function(e,t){return{type:"@@FORMS/SHOW",formId:e,data:t}},Qt=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).handleClose=function(){var e=a.props.formId;a.props.hideForm(e)},a.onDataUpdate=function(){a.handleClose(),a.props.updateData&&a.props.updateData()},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.formId,t=!!this.props.dataForms[e]&&this.props.dataForms[e].show,a=this.props.dataForms[e]?this.props.dataForms[e].data:void 0,n=a?a.id:void 0;return console.log("[FOM]: FormikModal form data:",a),r.a.createElement(r.a.Fragment,null,r.a.createElement(Mt.a,{show:t,onHide:this.handleClose,centered:!0,size:"lg"},r.a.createElement(Mt.a.Header,{closeButton:!0},r.a.createElement(Mt.a.Title,null,this.props.title)),r.a.createElement(Mt.a.Body,null,r.a.createElement(it,{fieldList:this.props.fieldList,initialValues:a,updateData:this.onDataUpdate,api:this.props.api,resource:this.props.resource,id:n}))))}}]),t}(n.Component),Kt=Object(u.c)(function(e){return{dataForms:oe(e)}},function(e){return{hideForm:function(t){return e(function(e){return{type:"@@FORMS/HIDE",formId:e}}(t))}}})(Qt),zt="finances",Vt="/api/"+zt+"/",Wt=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e={name:{title:"\u041e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043b\u0430\u0442\u0435\u0436\u0430",validation:xe.string().required()},contractor:{title:"\u041f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a",type:"autocomplete",resource:"suppliers",api:"/api/suppliers/select/"},service_type:{title:"\u0422\u0438\u043f",sm:8,type:"autocomplete",resource:"service_type",api:"/api/config/service_types/"},date:{title:"\u0414\u0430\u0442\u0430 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",sm:4,validation:xe.date("Incorrect data format")},projected_sum:{title:"\u0411\u044e\u0434\u0436\u0435\u0442",sm:6,validation:xe.number()},payment_type:{title:"\u0422\u0438\u043f \u043e\u043f\u043b\u0430\u0442\u044b",sm:6,type:"select",resource:"payment_types",options:{NC:"\u0431\u0435\u0437\u043d\u0430\u043b.",CA:"\u043d\u0430\u043b.",IR:"\u0432\u043d\u0443\u0442\u0440. \u0430\u0440\u0435\u043d\u0434\u0430",WH:"\u0441\u043a\u043b\u0430\u0434",CQ:"\u0447\u0435\u043a",R1:"\u0420\u0435\u0437\u0435\u0440\u0432 1",R2:"\u0420\u0435\u0437\u0435\u0440\u0432 2. \u0420\u0430\u0439\u0444\u0444",GP:"\u0413\u041f\u0414"},api:"/api/config/payment_types/"},planned_sum:{title:"\u041f\u043b\u0430\u043d\u0438\u0440\u0443\u0435\u043c\u0430\u044f \u0441\u0443\u043c\u043c\u0430",sm:6,validation:xe.number()},sum:{title:"\u0424\u0430\u043a\u0442",sm:6,validation:xe.number()}};return r.a.createElement(Kt,{fieldList:e,api:Vt,resource:zt,formId:this.props.formId,updateData:this.props.updateData})}}]),t}(n.Component);var Yt=Object(u.c)(null,function(e){return{showConfirmation:function(t){return e(function(e){return{type:"@@CONFIRMATIONS/SHOW",data:e}}(t))},deleteItem:function(t,a,n,r){return e(Ge(t,a,n,r))}}})(function(e){var t={title:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435",body:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u0442\u0435\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c ".concat(e.id," ? \u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e!"),buttonActionName:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",hashPrefix:"DELETE",onAction:function(t){return e.deleteItem(e.api,e.resource,e.id,t)},updateData:e.updateData};return r.a.createElement(Ht.b,{onClick:function(){return e.showConfirmation(t)}})}),Jt=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).sort=function(e,t){return e.service_type>t.service_type?1:-1},a.renderOneItem=function(e,t){var n=function(){return a.props.showForm("financeModal",t)};return r.a.createElement("tr",null,r.a.createElement("td",null,e),r.a.createElement("td",{onClick:n},t.name),r.a.createElement("td",{onClick:n},t.contractor_display),r.a.createElement("td",{onClick:n,align:"center"},t.qty),r.a.createElement("td",{onClick:n,align:"center"},ft(t.official_sum)),r.a.createElement("td",{align:"center"},t.payment_type_display),r.a.createElement("td",{align:"right"},ft(t.projected_sum)),r.a.createElement("td",{align:"right"},ft(t.planned_sum)),r.a.createElement("td",{align:"right"},ft(t.sum)),r.a.createElement("td",null,r.a.createElement(Ht.c,{onClick:n}),r.a.createElement(Yt,{api:Vt,resource:zt,id:t.id,updateData:a.props.updateData})))},a.renderToolbar=function(){return r.a.createElement(Oe.a,{size:"sm",onClick:function(){return a.props.createForm("financeModal","/api/finance_set/"+a.props.data.id+"/finances/new/")}},"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"renderItems",value:function(e){var t=this,a=0,n=0,i=1;return Object.values(e).sort(this.sort).map(function(e){var o;e.service_type>a&&(a=e.service_type,i=1,n++,o=r.a.createElement(Et,{colSpan:9,header:e.service_type_display,align:"center"}));var s=n+"."+i+++".";return[o,t.renderOneItem(s,e)]})}},{key:"render",value:function(){var e=void 0!==this.props.data.f_items?this.props.data.f_items:this.props.data,t=r.a.createElement(Wt,{formId:"financeModal",updateData:this.props.updateData}),a=this.renderToolbar(),n=this.renderItems(e);return r.a.createElement(gt,{modalForms:t,toolbar:a,tableHeader:[{name:"#",width:"1%"},{name:"\u041e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043b\u0430\u0442\u0435\u0436\u0430",width:"25%"},{name:"\u041f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a",width:"14%"},{name:"\u041a\u043e\u043b-\u0432\u043e",width:"10%",align:"center"},{name:"\u041e\u0444. \u0446\u0435\u043d\u0430",width:"10%",align:"center"},{name:"\u0422\u0438\u043f",width:"10%",align:"center"},{name:"\u041f\u043b\u0430\u043d",width:"10%",align:"center"},{name:"\u0414\u043e\u0433\u043e\u0432\u043e\u0440",width:"10%",align:"center"},{name:"\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u043e",width:"10%",align:"center"},{name:"",width:"8%",align:"center"}],items:n})}}]),t}(n.Component),Xt=Object(u.c)(null,function(e){return{createForm:function(t,a){return e(Gt(t,a))},showForm:function(t,a){return e(Bt(t,a))}}})(Jt),Zt=function(e){return r.a.createElement(ve.a,{sm:6,md:4,lg:3,style:{marginBottom:20}},r.a.createElement(ye.a,{style:{minHeight:340}},r.a.createElement(ye.a.Img,{top:!0,width:"100%",src:de(e.icon),alt:"Card image cap"}),r.a.createElement(ye.a.Body,null,r.a.createElement(ye.a.Title,null,r.a.createElement(C.a,{to:"/services/"+e.id},e.name)),r.a.createElement(ye.a.Text,null,e.date," "),r.a.createElement(ye.a.Text,null,r.a.createElement("small",{className:"text-muted"},"Last updated 3 mins ago")))))},$t=function(e){return r.a.createElement(ve.a,{sm:6,md:4,lg:3,style:{marginBottom:20}},r.a.createElement(ye.a,{style:{minHeight:340,backgroundColor:"#FFFFEE"}},r.a.createElement(ye.a.Img,{top:!0,width:"100%",src:de(e.icon),alt:"Card image cap"}),r.a.createElement(ye.a.Body,null,r.a.createElement(ye.a.Title,null,r.a.createElement(C.a,{to:"/services/group/"+e.id},e.name)),r.a.createElement(ye.a.Text,null,e.date," "),r.a.createElement(ye.a.Text,null,r.a.createElement("small",{className:"text-muted"},"Last updated 3 mins ago")))))},ea=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"get_items",value:function(e,t){return Object.values(e).map(function(e){return"group"===t?r.a.createElement($t,Object.assign({key:"EC"+e.id},e)):r.a.createElement(Zt,Object.assign({key:"EC"+e.id},e))})}},{key:"render",value:function(){console.log("GROUPP",this.props.data);var e=this.get_items(this.props.data.groups,"group"),t=this.get_items(this.props.data.services,"service"),a=this.props.data.name;return this.props.data.parent_group&&(a=r.a.createElement(r.a.Fragment,null,this.props.data.name,"\xa0",r.a.createElement(C.a,{to:"/services/group/"+this.props.data.parent_group},".."))),r.a.createElement("div",null,r.a.createElement(ze,{header:a,subHeader:this.props.data.job,resource:"groups"+this.props.id,searchBar:!0}),r.a.createElement(S.a,{fluid:!0,style:{paddingLeft:40,paddingRight:40}},r.a.createElement(be.a,null,e," ",t)))}}]),t}(n.Component),ta=Xe(ea,"/api/groups/","groups"),aa=(a(481),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={show:!1},a.handleClose=function(){a.setState({show:!1})},a.handleShow=function(){a.setState({show:!0})},a.onDataUpdate=function(){a.handleClose(),a.updateData()},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props.children,a=r.a.Children.map(t,function(t){return r.a.cloneElement(t,{onClick:e.handleShow})});return r.a.createElement(r.a.Fragment,null,a,r.a.createElement(Mt.a,{show:this.state.show,onHide:this.handleClose,dialogClassName:"modal-90w"},r.a.createElement(Mt.a.Header,{closeButton:!0},r.a.createElement(Mt.a.Title,null,"\u0423\u0441\u043b\u0443\u0433\u0438"),r.a.createElement(j.a.Control,null)),r.a.createElement(Mt.a.Body,null,r.a.createElement(ta,Object.assign({id:"service_root"},this.props)))))}}]),t}(n.Component)),na=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e={qty:{title:"\u0414\u0430\u0442\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430",sm:6,validation:xe.number().required()},price:{title:"\u0417\u0430\u043a\u0443\u043f\u043e\u0447\u043d\u0430\u044f \u0446\u0435\u043d\u0430",validation:xe.number().required()},cost:{title:"\u0417\u0430\u043a\u0443\u043f\u043e\u0447\u043d\u0430\u044f \u0446\u0435\u043d\u0430",validation:xe.number().required()},comment:{title:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",validation:xe.string()}};return r.a.createElement(Kt,{fieldList:e,api:"/api/budget_items/",resource:"budget_items",formId:this.props.formId,updateData:this.props.updateData})}}]),t}(n.Component);var ra=function(e){return r.a.createElement(Mt.a,{show:e.show,onHide:e.onCancel},r.a.createElement(Mt.a.Header,{closeButton:!0},r.a.createElement(Mt.a.Title,null,e.title)),r.a.createElement(Mt.a.Body,null,e.body),r.a.createElement(Mt.a.Footer,null,r.a.createElement(Oe.a,{variant:"secondary",onClick:e.onCancel},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),r.a.createElement(Oe.a,{variant:"danger",onClick:e.onAction},e.actionName)))},ia=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={show:!1,hashSent:0},a.handleClose=function(){return a.setState({show:!1})},a.handleShow=function(){return a.setState({show:!0})},a.handleDelete=function(){a.handleClose();var e=a.props.hashPrefix+a.props.api+a.props.id+Date();a.setState({status:H,hashSent:e}),a.props.onAction(e)},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(e, t, a){var n=this.state.hashSent;0!==n&&void 0!==this.props.hashUpdates[n]&&(this.setState({hashSent:0}),this.props.onSuccessURL&&this.props.local_history?this.props.local_history.push(this.props.onSuccessURL):this.props.updateData())}},{key:"render",value:function(){var e=this.props.buttonComponent;return r.a.createElement(r.a.Fragment,null,r.a.createElement(e,{onClick:this.handleShow}),r.a.createElement(ra,{title:this.props.title,body:this.props.body,show:this.state.show,onCancel:this.handleClose,onAction:this.handleDelete,actionName:this.props.actionName}))}}]),t}(n.Component),oa=Object(u.c)(function(e){return{hashUpdates:re(e)}},null)(ia),sa=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return console.log("FOFOFO",this.props),r.a.createElement(oa,Object.assign({title:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435",body:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u0442\u0435\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c ".concat(this.props.id," ? \u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e!"),buttonComponent:Ht.b,actionName:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",onAction:function(t){return e.props.deleteItem(e.props.api,e.props.resource,e.props.id,t)},hashPrefix:"DELETE"},this.props))}}]),t}(n.Component),ca=Object(u.c)(null,function(e){return{deleteItem:function(t,a,n,r){return e(Ge(t,a,n,r))}}})(sa),la=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(oa,Object.assign({title:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435",body:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u0442\u0435\u0441\u044c \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c ".concat(this.props.id," \u0441 ").concat(this.props.alias_id," ? \u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e!"),buttonComponent:"AAA",actionName:"\u041e\u0431\u044a\u0435\u0434\u0438\u043d\u0438\u0442\u044c",onAction:function(t){return e.props.mergeItem(e.props.api,e.props.resource,e.props.id,e.props.alias_id,t)},hashPrefix:"MERGE"},this.props))}}]),t}(n.Component),ua=(Object(u.c)(null,function(e){return{mergeItem:function(t,a,n,r,i){return e(Be(t,a,n,r,i))}}})(la),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).renderToolbar=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(aa,null,r.a.createElement(Oe.a,{size:"sm",style:{marginRight:10}},"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")),r.a.createElement("a",{href:"http://localhost:8000/budgets/".concat(a.props.data.id,"/export_tz/")},r.a.createElement(Oe.a,{size:"sm",style:{marginRight:10}},"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0422\u0417")),r.a.createElement("a",{href:"http://localhost:8000/budgets/".concat(a.props.data.id,"/export_budget/")},r.a.createElement(Oe.a,{size:"sm",style:{marginRight:10}},"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0441\u043c\u0435\u0442\u0443")))},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"renderItems",value:function(e,t,a){var n=this,i=0,o=0,s=1;return Object.values(e).filter(function(e){return e.alt===a}).sort(function(e,t){return e.service_type>t.service_type?1:-1}).map(function(e){var a;e.service_type>i&&(i=e.service_type,s=1,o++,a=r.a.createElement(Et,{colSpan:9,header:e.service_type_display,align:"center"}));var c=o+"."+s+++".";return[a,n.renderOneItem(c,e,t)]})}},{key:"renderOneItem",value:function(e,t,a){var n=this;return r.a.createElement("tr",null,r.a.createElement("td",null,e),r.a.createElement("td",null,r.a.createElement(C.a,{to:"/services/"+t.service},t.service_display)),r.a.createElement("td",null,r.a.createElement(C.a,{to:"/options/"+t.option},t.option_display)),r.a.createElement("td",{align:"center"},ft(a?t.cost:t.price)),r.a.createElement("td",{align:"center"},ft(t.qty)),r.a.createElement("td",{align:"center"},t.measure_display),r.a.createElement("td",{align:"center"},ft(a?t.total_cost:t.total_price)),r.a.createElement("td",null,r.a.createElement(Ht.c,{onClick:function(){return n.props.showForm("budgetModal",t)}}),r.a.createElement(ca,{api:"/api/budget_items/",id:t.id,updateData:this.props.updateData})))}},{key:"render",value:function(){var e=void 0===this.props.int||this.props.int,t=r.a.createElement(na,{formId:"financeModal",updateData:this.props.updateData}),a=this.renderItems(this.props.data.b_items,e,!1),n=this.renderItems(this.props.data.b_items,e,!0),i=[{name:"#",width:"1%"},{name:"\u0423\u0441\u043b\u0443\u0433\u0430",width:"25%"},{name:"\u041e\u043f\u0446\u0438\u044f",width:"25%"},{name:"\u0426\u0435\u043d\u0430",width:"11%",align:"center"},{name:"\u041a\u043e\u043b-\u0432\u043e",width:"11%",align:"center"},{name:"\u0415\u0434. \u0438\u0437\u043c.",width:"9%",align:"center"},{name:"\u0418\u0442\u043e\u0433\u043e",width:"10%",align:"center"},{name:"",width:"8%",align:"center"}],o=this.renderToolbar();return r.a.createElement(r.a.Fragment,null,r.a.createElement(gt,{modalForms:t,toolbar:o,tableHeader:i,items:a}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h4",null,"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e"),r.a.createElement("br",null),r.a.createElement(gt,{tableHeader:i,items:n}))}}]),t}(n.Component)),pa=Object(u.c)(null,function(e){return{getListDataLoader:function(t,a,n){return e(qe(t,a,n))}}})(ua),da=function(e){return r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{width:"2%"},"#"),r.a.createElement("th",{width:"24%"},"\u0423\u0441\u043b\u0443\u0433\u0430"),r.a.createElement("th",{width:"70%",style:{textAlign:"center"}},"\u0426\u0435\u043d\u0430"),r.a.createElement("th",{width:"4%",style:{textAlign:"center"}})))},ma=function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.num),r.a.createElement("td",{style:{paddingRight:20}},r.a.createElement("strong",null,e.service_display_name),r.a.createElement("br",null),e.option_display_name),r.a.createElement("td",{align:"left",style:{paddingRight:20}},e.tz),r.a.createElement("td",null,r.a.createElement(na,{data:e,style:{paddingRight:15}}),r.a.createElement(ca,{api:"/api/budget_items/",id:e.id,updateData:e.updateData})))},ha=(n.Component,a(516)),Ea=function(e){var t=r.a.createElement(yt,{to:"/"+Nt+"/"+e.id+"/edit",title:"Edit"});return r.a.createElement(jt,{title:"Info",rightToolbar:t},r.a.createElement(ha.a,{variant:"flush"},r.a.createElement(ha.a.Item,null,r.a.createElement("p",{style:{whiteSpace:"pre-line"}},e.data.description)),r.a.createElement(ha.a.Item,null," Deal: ",r.a.createElement(C.a,{to:"/deals/"+e.data.deal},e.data.deal_display),r.a.createElement("br",null),"Deadline: ",e.data.date,r.a.createElement("br",null),"GitHub: ",e.data.github,r.a.createElement("br",null),"Landing page: ",e.data.landing_url,r.a.createElement("br",null),"Video: ",e.data.video_url," ",r.a.createElement("br",null))))},fa=function(e){r.a.createElement(C.a,{to:"/events/"+e.id+"/edit"},r.a.createElement(Oe.a,{size:"sm"},"Edit"));return r.a.createElement(jt,{title:"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b"},r.a.createElement(ha.a,{variant:"flush"},r.a.createElement(ha.a.Item,null,"Cras justo odio"),r.a.createElement(ha.a.Item,null,"Dapibus ac facilisis in"),r.a.createElement(ha.a.Item,null,"Morbi leo risus"),r.a.createElement(ha.a.Item,null,"Porta ac consectetur ac"),r.a.createElement(ha.a.Item,null,"Vestibulum at eros")),";")};var ba=Xe(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ze,{header:e.data.name,subHeader:e.data.value_proposition,icon:e.data.icon}),r.a.createElement(At,{id:e.id,resource:Nt,tab:e.match.params.tab,history:e.local_history},r.a.createElement(ct.a.Pane,{eventKey:"info",label:"Info"},r.a.createElement(be.a,null,r.a.createElement(ve.a,{sm:8},r.a.createElement(Ea,e)),r.a.createElement(ve.a,{sm:4},r.a.createElement(fa,e)))),r.a.createElement(ct.a.Pane,{eventKey:"bmc",label:"BMC"},r.a.createElement(be.a,null,r.a.createElement(ve.a,{sm:8},r.a.createElement(Ea,e)),r.a.createElement(ve.a,{sm:4},r.a.createElement(fa,e)))),r.a.createElement(ct.a.Pane,{eventKey:"features",label:"Features"},r.a.createElement(be.a,null,r.a.createElement(ve.a,{sm:8},r.a.createElement(Ea,e)))),r.a.createElement(ct.a.Pane,{eventKey:"hypotheses",label:"Hypotheses"},r.a.createElement(be.a,null,r.a.createElement(ve.a,{sm:8},r.a.createElement(Ea,e)))),r.a.createElement(ct.a.Pane,{eventKey:"budget",label:"Budget"},r.a.createElement(pa,Object.assign({},e,{int:!1,data:e.data.budgetSet}))),r.a.createElement(ct.a.Pane,{eventKey:"finances",label:"Finances"},r.a.createElement(Xt,Object.assign({id:e.id},e,{data:e.data.financeSet})))))},xt,Nt),va=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e={name:{title:"Name",sm:12,validation:xe.string().required("Required")},value_proposition:{title:"Value proposition",sm:12,validation:xe.string().required("Required")},date:{title:"Deadline",sm:12,validation:xe.date("Incorrect data format").required("\u0414\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0432\u0432\u0435\u0434\u0435\u043d\u0430 \u0434\u0430\u0442\u0430")},budget:{title:"Budget",sm:6,validation:xe.number().required()},budget_fact:{title:"Budget fact",sm:6,validation:xe.number().required()},description:{title:"Description",type:"textarea",sm:12,validation:xe.string()},github:{title:"Github",sm:12,validation:xe.string().url()}},t="new"===this.props.id?"/deals/"+this.props.data.deal:"/projects/"+this.props.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ze,{header:"\u041c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u044f \u043f\u043e \u0441\u0434\u0435\u043b\u043a\u0435 ".concat(this.props.data.deal_display," \u043e\u0442 ").concat(this.props.data.date),subHeader:this.props.data.comment}),r.a.createElement(S.a,{fluid:!0,style:{paddingLeft:40,paddingRight:40}},r.a.createElement(it,Object.assign({fieldList:e,onSubmit:this.onSubmit,initialValues:this.props.data,onSuccessLink:t},this.props))))}}]),t}(n.Component),ga=function(e){var t;"new"===e.match.params.id&&void 0!==e.match.params.deal_id&&(t="/api/deals/".concat(e.match.params.deal_id,"/events/"));var a=Xe(va,xt,Nt,t);return r.a.createElement(a,e)},ya="options",Oa="/api/"+ya+"/",ja=function(e){var t=r.a.createElement(yt,{to:"/"+ya+"/"+e.id+"/edit",title:"Edit"});return r.a.createElement(jt,{title:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",rightToolbar:t},"\u041e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: ",e.data.name,r.a.createElement("br",null),"\u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: ",e.data.int_name,r.a.createElement("br",null),"\u0426\u0435\u043d\u0430 \u0434\u043b\u044f \u041a\u043b\u0438\u0435\u043d\u0442\u0430: ",ft(e.data.price)," ",r.a.createElement("br",null),"\u0417\u0430\u043a\u0443\u043f\u043e\u0447\u043d\u0430\u044f \u0446\u0435\u043d\u0430: ",ft(e.data.cost)," ",r.a.createElement("br",null),"\u0422\u0417:",r.a.createElement("br",null)," ",e.data.tz," ",r.a.createElement("br",null))},_a=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e={supplier:{title:"\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a",sm:12,type:"autocomplete",resource:"suppliers",api:"/api/suppliers/select/"},cost:{title:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c",sm:12,validation:xe.number().required("Required")},comment:{title:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",sm:12,validation:xe.string()}};return r.a.createElement(Kt,{fieldList:e,api:"/api/cont_options/",resource:"cont_options",formId:this.props.formId,updateData:this.props.updateData})}}]),t}(n.Component),Sa=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).sort=function(e,t){return e.last_update>t.last_update?-1:1},a.renderToolbar=function(){return r.a.createElement(Oe.a,{size:"sm",onClick:function(){return a.props.createForm("contOptionsModal","/api/cont_options_set/"+a.props.data.id+"/cont_options/new/")}},"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"renderItems",value:function(e){var t=this,a=0;return Object.values(e).sort(this.sort).map(function(e){return t.renderOneItem(a++,e)})}},{key:"renderOneItem",value:function(e,t){var a=this,n=function(){return a.props.showForm("contOptionsModal",t)};return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(C.a,{to:"/suppliers/"+t.supplier},t.supplier_display)),r.a.createElement("td",{onClick:n,align:"center"},ft(t.cost)),r.a.createElement("td",{onClick:n,align:"center"},t.last_update),r.a.createElement("td",{onClick:n,align:"center"},t.user_updated_display),r.a.createElement("td",{onClick:n,align:"center"},t.phone),r.a.createElement("td",{onClick:n},t.comment),r.a.createElement("td",null,r.a.createElement(ca,{api:"/api/cont_options/",id:t.id,updateData:this.props.updateData})))}},{key:"render",value:function(){var e=this.renderItems(this.props.data.cont_options),t=r.a.createElement(_a,{formId:"contOptionsModal",updateData:this.props.updateData}),a=this.renderToolbar();return r.a.createElement(gt,{modalForms:t,toolbar:a,tableHeader:[{name:"\u041f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a",width:"35%"},{name:"\u0412\u043d\u0443\u0442\u0440. \u0446\u0435\u043d\u0430",width:"15%",align:"center"},{name:"\u0414\u0430\u0442\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f",width:"15%",align:"center"},{name:"\u041a\u0442\u043e \u043e\u0431\u043d\u043e\u0432\u0438\u043b",width:"20%",align:"center"},{name:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",width:"15%",align:"center"}],items:e})}}]),t}(n.Component),Ca=Object(u.c)(null,function(e){return{createForm:function(t,a){return e(Gt(t,a))},showForm:function(t,a){return e(Bt(t,a))}}})(Sa);var Aa=Xe(function(e){var t;t="s"===e.data.type&&e.data.cont_optionSet?r.a.createElement(ct.a.Pane,{eventKey:"cont_options",label:"\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0438"},r.a.createElement(Ca,Object.assign({},e,{data:e.data.cont_optionSet}))):r.a.createElement(ct.a.Pane,{eventKey:"budget",label:"\u0421\u043c\u0435\u0442\u0430"},r.a.createElement(pa,Object.assign({},e,{int:!0,data:e.data.budgetSet})));var a=r.a.createElement(C.a,{to:"/services/"+e.data.service},e.data.service_display);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ze,{header:e.data.name,subHeader:a}),r.a.createElement(At,{id:e.id,resource:ya,tab:e.match.params.tab||"info",history:e.local_history},r.a.createElement(ct.a.Pane,{eventKey:"info",label:"\u0418\u043d\u0444\u043e"},r.a.createElement(ja,Object.assign({data:e.data,id:e.id},e))),t,r.a.createElement(ct.a.Pane,{eventKey:"operations",label:"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u0438"})))},Oa,ya),La=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e={name:{title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",sm:12,validation:xe.string().required("Required")},int_name:{title:"\u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",sm:12,validation:xe.string()},price:{title:"\u0426\u0435\u043d\u0430 \u0434\u043b\u044f \u041a\u043b\u0438\u0435\u043d\u0442\u0430",sm:6,validation:xe.number().required()},cost:{title:"\u0417\u0430\u043a\u0443\u043f\u043e\u0447\u043d\u0430\u044f \u0446\u0435\u043d\u0430",sm:6,validation:xe.number().required()},service:{title:"\u0423\u0441\u043b\u0443\u0433\u0430",type:"autocomplete",resource:"services",api:"/api/services/select/"},tz:{title:"\u0422\u0417",type:"textarea",validation:xe.string()}},t="new"===this.props.id?"/services/"+this.props.data.service+"/options":"/options/"+this.props.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ze,{header:"\u041e\u043f\u0446\u0438\u044f \u043a \u0443\u0441\u043b\u0443\u0433\u0435 ".concat(this.props.data.service_display),subHeader:this.props.data.comment}),r.a.createElement(S.a,{fluid:!0,style:{paddingLeft:40,paddingRight:40}},r.a.createElement(it,Object.assign({fieldList:e,onSubmit:this.onSubmit,initialValues:this.props.data,onSuccessLink:t},this.props))))}}]),t}(n.Component),wa=function(e){var t;"new"===e.match.params.id&&void 0!==e.match.params.service_id&&(t="/api/services/".concat(e.match.params.service_id,"/options/"));var a=Xe(La,Oa,ya,t);return r.a.createElement(a,e)},Da=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0; i<n; i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).sort=function(e, t){return e.name.toLowerCase(),t.name.toLowerCase(),-1},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"renderItems",value:function(e){var t=this,a=0;return Object.values(e).sort(this.sort).map(function(e){return t.renderOneItem(a++,e)})}},{key:"renderOneItem",value:function(e, t){var a=this,n=function(){return a.props.local_history.push("/options/".concat(t.id))};return r.a.createElement("tr",null,r.a.createElement("td",{onClick:n},t.int_name),r.a.createElement("td",{onClick:n},t.name),r.a.createElement("td",{onClick:n,style:{textAlign:"center"}},t.measure_display_name),r.a.createElement("td",{onClick:n,align:"center"},ft(t.price)),r.a.createElement("td",{onClick:n,align:"center"},ft(t.cost)),r.a.createElement("td",{align:"center"},r.a.createElement(ca,{api:"/api/options/",id:t.id,updateData:this.props.updateData})))}},{key:"renderToolbar",value:function(){return r.a.createElement(yt,{to:"/services/".concat(this.props.id,"/options/new/"),title:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})}},{key:"render",value:function(){var e=this.renderItems(this.props.data),t=this.renderToolbar();return r.a.createElement(gt,{toolbar:t,tableHeader:[{name:"\u0412\u043d\u0443\u0442\u0440. \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",width:"23%"},{name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",width:"40%"},{name:"\u0415\u0434. \u0438\u0437\u043c",width:"14%",align:"center"},{name:"\u0412\u043d\u0443\u0442\u0440. \u0446\u0435\u043d\u0430",width:"14%",align:"center"},{name:"\u0426\u0435\u043d\u0430",width:"14%",align:"center"}],items:e})}}]),t}(n.Component),Ta=function(e){var t=r.a.createElement(yt,{to:"/payers/"+e.id+"/edit",title:"Edit"});return r.a.createElement(jt,{title:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",rightToolbar:t},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: ",e.data.name," ",r.a.createElement("br",null),"\u0418\u041d\u041d: ",e.data.INN," ",r.a.createElement("br",null),"\u041f\u0440\u0435\u0434\u043c\u0435\u0442 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430: ",e.data.comment," ",r.a.createElement("br",null),"\u041f\u043b\u0430\u0442\u0435\u043b\u044c\u0449\u0438\u043a: ",e.data.payer_display_name," ",r.a.createElement("br",null),"\u0413\u041f\u0414: ",e.data.gpd,r.a.createElement("br",null),"\u0421\u0443\u043c\u043c\u0430: ",e.data.sum,r.a.createElement("br",null))},Ia=Xe(function(e){return r.a.createElement("div",null,r.a.createElement(ze,{header:"\u0414\u043e\u0433\u043e\u0432\u043e\u0440 \u2116 ".concat(e.data.num," \u043e\u0442 ").concat(e.data.date),subHeader:e.data.comment,back:"/events/"+e.data.parent+"/docs"}),r.a.createElement(S.a,{fluid:!0,style:{paddingLeft:40,paddingRight:40,paddingTop:10}},r.a.createElement(C.a,{to:"/"+e.resource+"/"+e.id+"/edit/"},r.a.createElement(Oe.a,{size:"sm"},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c")),"\xa0",r.a.createElement(be.a,null,r.a.createElement(ve.a,{sm:8},r.a.createElement(Ta,e)))))},"/api/payers/","payers"),Ra=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e={name:{title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",validation:xe.string().required("Required"),is_company:!0,is_person:!1,is_enterpreneur:!1},firstName:{title:"\u0418\u043c\u044f",validation:xe.string().required("Required"),is_company:!1,is_person:!0,is_enterpreneur:!0},surnameName:{title:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",validation:xe.string().required("Required"),is_company:!1,is_person:!0,is_enterpreneur:!0},birthday:{title:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",validation:xe.date(),is_company:!1,is_person:!0,is_enterpreneur:!1},passport_no:{title:"\u041d\u043e\u043c\u0435\u0440 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430",validation:xe.string(),sm:6,is_company:!1,is_person:!0,is_enterpreneur:!1},passport_date:{title:"\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438",validation:xe.string(),sm:6,is_company:!1,is_person:!0,is_enterpreneur:!1},passport_issuer:{title:"\u041a\u0435\u043c \u0432\u044b\u0434\u0430\u043d",validation:xe.string(),is_company:!1,is_person:!0,is_enterpreneur:!1},address:{title:"\u0410\u0434\u0440\u0435\u0441",validation:xe.string(),is_company:!0,is_person:!0,is_enterpreneur:!0},INN:{title:"\u0418\u041d\u041d",validation:xe.string(),is_company:!0,is_person:!0,is_enterpreneur:!0},KPP:{title:"\u041a\u041f\u041f",validation:xe.string(),is_company:!0,is_person:!1,is_enterpreneur:!1},snils:{title:"\u0421\u041d\u0418\u041b\u0421",validation:xe.string(),is_company:!1,is_person:!0,is_enterpreneur:!1},BankAccount:{title:"\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u0441\u0447\u0435\u0442",validation:xe.string(),is_company:!0,is_person:!0,is_enterpreneur:!0},Bank:{title:"\u0411\u0430\u043d\u043a",validation:xe.string(),is_company:!0,is_person:!0,is_enterpreneur:!0},BIK:{title:"\u0411\u0418\u041a",validation:xe.string(),is_company:!0,is_person:!0,is_enterpreneur:!0},CorrespondAccount:{title:"\u041a\u043e\u0440.\u0441\u0447\u0435\u0442",validation:xe.string(),is_company:!0,is_person:!0,is_enterpreneur:!0},OGRN:{title:"\u041e\u0413\u0420\u041d",validation:xe.string(),is_company:!0,is_person:!1,is_enterpreneur:!1},OGRNIP:{title:"\u041e\u0413\u0420\u041d\u0418\u041f",validation:xe.string(),is_company:!1,is_person:!1,is_enterpreneur:!0},OKPO:{title:"\u041e\u041a\u041f\u041e",validation:xe.string().required(),is_company:!0,is_person:!1,is_enterpreneur:!1},dirJobTitle:{title:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u0442\u0430",validation:xe.string().required(),is_company:!0,is_person:!1,is_enterpreneur:!1},dirSurname:{title:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u0442\u0430",validation:xe.string().required(),is_company:!0,is_person:!1,is_enterpreneur:!1},dirFirstName:{title:"\u0418\u043c\u044f \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u0442\u0430",validation:xe.string().required(),is_company:!0,is_person:!1,is_enterpreneur:!1},proxy:{title:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435\u0442 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u0438",validation:xe.string().required(),is_company:!0,is_person:!1,is_enterpreneur:!1}},t={1:"is_company",2:"is_person",3:"is_enterpreneur"}[this.props.data.type];return Object.entries(e).filter(function(e){return!e[1][t]}).forEach(function(t){return delete e[t[0]]}),r.a.createElement("div",null,r.a.createElement(ze,{header:"\u041f\u043b\u0430\u0442\u0435\u043b\u044c\u0449\u0438\u043a \u2116 ".concat(this.props.data.name),subHeader:this.props.data.comment}),r.a.createElement(S.a,{fluid:!0,style:{paddingLeft:40,paddingRight:40}},r.a.createElement(it,Object.assign({fieldList:e,onSubmit:this.onSubmit,initialValues:this.props.data,onSuccessLink:"/suppliers/"+this.props.data.parent+"/payers"},this.props))))}}]),t}(n.Component),ka=function(e){var t;e.match.params.id.startsWith("new")&&void 0!==e.match.params.supplier_id&&(t="/api/suppliers/".concat(e.match.params.supplier_id,"/payers/"));var a=Xe(Ra,"/api/payers/","payers",t);return r.a.createElement(a,e)},Fa=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(ta,Object.assign({id:"service_root"},this.props))}}]),t}(n.Component),Ua="services",Na="/api/"+Ua+"/",xa=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e={name:{title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",sm:12,validation:xe.string().required("Required")},google_drive:{title:"Google Drive",sm:12,validation:xe.string()}},t="new"===this.props.id?"/deals/"+this.props.deals_id:"/services/"+this.props.id;return r.a.createElement("div",null,r.a.createElement(ze,{header:this.props.data.name,subHeader:this.props.data.comment}),r.a.createElement(S.a,{fluid:!0,style:{paddingLeft:40,paddingRight:40}},r.a.createElement(it,Object.assign({fieldList:e,onSubmit:this.onSubmit,initialValues:this.props.data,onSuccessLink:t},this.props))))}}]),t}(n.Component),Pa=function(e){var t;"new"===e.match.params.id&&void 0!==e.match.params.group_id&&(t="/api/groups/".concat(e.match.params.group_id,"/services/"));var a=Xe(xa,Na,Ua,t);return r.a.createElement(a,e)},qa=function(e){var t=r.a.createElement(yt,{to:"/"+Ua+"/"+e.id+"/edit",title:"Edit"});return r.a.createElement(jt,{title:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",rightToolbar:t},"\u041e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: ",e.data.name,r.a.createElement("br",null),"\u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: ",e.data.int_name,r.a.createElement("br",null),"\u0426\u0435\u043d\u0430 \u0434\u043b\u044f \u041a\u043b\u0438\u0435\u043d\u0442\u0430: ",ft(e.data.price)," ",r.a.createElement("br",null),"\u0417\u0430\u043a\u0443\u043f\u043e\u0447\u043d\u0430\u044f \u0446\u0435\u043d\u0430: ",ft(e.data.cost)," ",r.a.createElement("br",null),"\u0422\u0417:",r.a.createElement("br",null)," ",e.data.tz," ",r.a.createElement("br",null))},Ha=a(518),Ma=a(507),Ga=a(508),Ba=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(Kt,{fieldList:{group:{title:"\u041d\u043e\u0432\u0430\u044f \u0433\u0440\u0443\u043f\u043f\u0430",sm:12,type:"autocomplete",resource:"service_groups",api:"/api/groups/select/"}},title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0433\u0440\u0443\u043f\u043f\u0443",api:"/api/services/:id/add_to_group/",resourse:"services_groups",id:this.props.data.id,data:this.props.data},r.a.createElement(Ma.a,{variant:"success"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))}}]),t}(n.Component),Qa=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={hashSent:0},a.onDelete=function(e,t){console.log(e,t);var n="DELETE "+e+"/"+t+Date(),r={id:e,group:t};a.setState({hashSent:n}),a.props.updateDetail("/api/services/:id/remove_from_group/","services_groups",e,r,n)},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){var n=this.state.hashSent;0!==n&&void 0!==this.props.hashUpdates[n]&&(this.setState({hashSent:0}),this.props.updateData())}},{key:"render",value:function(){var e=this;return r.a.createElement(Oe.a,{variant:"danger",size:"sm",onClick:function(){return e.onDelete(e.props.data.id,e.props.id)}},"\u0423\u0431\u0440\u0430\u0442\u044c")}}]),t}(n.Component),Ka=Object(u.c)(function(e){return{hashUpdates:re(e)}},function(e){return{updateDetail:function(t,a,n,r,i){return e(Me(t,a,n,r,i))}}})(Qa),za=function(e){return r.a.createElement(Ga.a,{id:"popover-basic",title:"\u0423\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u0433\u0440\u0443\u043f\u043f\u044b?"},r.a.createElement(Ka,e))},Va=Ba,Wa=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).renderOneItem=function(e){return r.a.createElement(Ha.a,{trigger:"hover",placement:"right",overlay:za(e),delay:1e3},r.a.createElement(C.a,{to:"/services/group/"+e.id},r.a.createElement(Ma.a,{variant:"primary",style:{marginRight:7}},e.name)))},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"renderItems",value:function(e){var t=this;return Object.values(e).map(function(e){return t.renderOneItem(e)})}},{key:"render",value:function(){var e=this.renderItems(this.props.data.groups);return r.a.createElement(r.a.Fragment,null,e,r.a.createElement(Va,this.props,"AAA"))}}]),t}(n.Component);var Ya=Xe(function(e){var t=e.data.groups?"/services/group/"+e.data.groups[0].id:"/services";return r.a.createElement(r.a.Fragment,null,r.a.createElement(ze,{header:e.data.name,subHeader:r.a.createElement(Wa,Object.assign({},e,{data:e.data}))}),r.a.createElement(At,{id:e.id,resource:Ua,tab:e.match.params.tab||"info",history:e.local_history},r.a.createElement(ct.a.Pane,{eventKey:"info",label:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"},r.a.createElement(qa,e)),r.a.createElement(ct.a.Pane,{eventKey:"options",label:"\u041e\u043f\u0446\u0438\u0438"},r.a.createElement(Da,Object.assign({},e,{data:e.data.options}))),r.a.createElement(ct.a.Pane,{eventKey:"admin",label:"\u0410\u0434\u043c\u0438\u043d"},r.a.createElement(ca,{api:Na,id:e.id,onSuccessURL:t,history:e.local_history},r.a.createElement(Oe.a,{variant:"danger"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))))},Na,Ua),Ja=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0; o<n; o++)i[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).sort=function(e, t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:1},a.renderOneItem=function(e){var t=a.props.renderLineToolbar?r.a.createElement("td",null,a.props.renderLineToolbar(e.id,a.props.updateData)):void 0;return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{key:e.id},r.a.createElement("td",{onClick:function(){a.props.local_history.push("/suppliers/".concat(e.id))}},e.name),r.a.createElement("td",{onClick:function(){a.props.local_history.push("/suppliers/".concat(e.id))}},e.job),r.a.createElement("td",{onClick:function(){a.props.local_history.push("/suppliers/".concat(e.id))},align:"center"},e.phone),r.a.createElement("td",{onClick:function(){a.props.local_history.push("/suppliers/".concat(e.id))},align:"center"},e.email),r.a.createElement("td",{onClick:function(){a.props.local_history.push("/suppliers/".concat(e.id))},align:"center"},e.website),t))},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"renderItems",value:function(e, t){var a=this,n="0";return Object.values(e).sort(this.sort).map(function(e){var t,i=""!==e.name?e.name.substr(0,1):"";return i.toLowerCase()!==n.toLowerCase()&&(n=i,t=r.a.createElement(Et,{colSpan:6,header:i})),[t,a.renderOneItem(e,t)]})}},{key:"render",value:function(){var e=this.renderItems(this.props.data);return r.a.createElement(Rt,Object.assign({tableHeader:[{name:"Name",width:"25%"},{name:"Job",width:"25%"},{name:"Phone",width:"25%",align:"center"},{name:"Email",width:"25%",align:"center"},{name:"Website",width:"25%",align:"center"}],items:e},this.props))}}]),t}(n.Component),Xa="suppliers",Za="/api/"+Xa+"/",$a=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).renderLineToolbar=function(e,t){return r.a.createElement(Yt,{api:Za,resource:Xa,id:e,updateData:t})},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ze,{header:"Suppliers",subHeader:"SubHeader",resource:Xa,searchBar:!0}),r.a.createElement(S.a,{fluid:!0,style:{paddingLeft:40,paddingRight:40}},r.a.createElement(yt,{title:"+ Add",to:"/suppliers/new/edit"}),r.a.createElement(dt,{api:Za,resource:Xa},r.a.createElement(Ja,{renderLineToolbar:this.renderLineToolbar,history:this.props.local_history}))))}}]),t}(n.Component),en=function(e){var t=r.a.createElement(yt,{to:"/"+Xa+"/"+e.id+"/edit",title:"Edit"});return r.a.createElement(jt,{title:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",rightToolbar:t},e.data.description)},tn=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e={name:{title:"\u0418\u043c\u044f",validation:xe.string().required("Required")},phone:{title:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",validation:xe.string().required("Required")},email:{title:"Email",validation:xe.string().email()},web:{title:"Web",validation:xe.string().url()}};return r.a.createElement(Kt,{fieldList:e,title:this.props.data.service_display_name,api:"/api/contacts/",resourse:"contacts",id:this.props.data.id,data:this.props.data},this.props.children)}}]),t}(n.Component),an=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).sort=function(e,t){return e.last_update>t.last_update?-1:1},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"renderItems",value:function(e){var t=this,a=0;return Object.values(e).sort(this.sort).map(function(e){return t.renderOneItem(a++,e)})}},{key:"renderOneItem",value:function(e,t){return r.a.createElement("tr",null,r.a.createElement("td",{width:"95%"},r.a.createElement("strong",null,t.name)," ",r.a.createElement("br",null),t.phone," ",r.a.createElement("br",null),t.email," ",r.a.createElement("br",null),t.web),r.a.createElement("td",null,r.a.createElement(tn,{data:t,id:t.id},r.a.createElement(Ht.c,null))," \xa0",r.a.createElement(ca,{api:"/api/contacts/",resource:"contacts",id:t.id,updateData:this.props.updateData})))}},{key:"render",value:function(){var e=this.renderItems(this.props.data.contacts),t=r.a.createElement(yt,{to:"/suppliers/".concat(this.props.data.id,"/contacts/new/"),title:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"});return r.a.createElement(jt,{title:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b",rightToolbar:t},r.a.createElement(gt,{items:e}))}}]),t}(n.Component),nn=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"renderItems",value:function(e, t){var a,n=this,r=0;return t.startsWith("-")?(t=t.substr(1),a=function(e, a){return e[t]<a[t]?-1:1}):a=function(e, a){return e[t]>a[t]?-1:1},Object.values(e).sort(a).map(function(e){return n.renderOneItem(r++,e)})}},{key:"renderOneItem",value:function(e, t){var a=this;return r.a.createElement("tr",{onClick:function(){return a.props.local_history.push("/payers/".concat(t.id))}},r.a.createElement("td",null,t.type_display),r.a.createElement("td",null,t.name),r.a.createElement("td",{style:{textAlign:"center"}},t.INN),r.a.createElement("td",{style:{textAlign:"center"}},t.address),r.a.createElement("td",null))}},{key:"renderToolbar",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt,{to:"/suppliers/".concat(this.props.id,"/payers/new_company"),title:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u044e\u0440. \u043b\u0438\u0446\u043e"}),r.a.createElement(yt,{to:"/suppliers/".concat(this.props.id,"/payers/new_person"),title:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0418\u041f"}),r.a.createElement(yt,{to:"/suppliers/".concat(this.props.id,"/payers/new_enterpreneur"),title:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u0438\u0437. \u043b\u0438\u0446\u043e"}))}},{key:"render",value:function(){var e=this.renderItems(this.props.data,"date"),t=this.renderToolbar();return r.a.createElement(gt,{toolbar:t,tableHeader:[{name:"\u0422\u0438\u043f",width:"5%"},{name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",width:"55%"},{name:"\u0418\u041d\u041d",width:"15%",align:"center"},{name:"\u0410\u0434\u0440\u0435\u0441",width:"30%",align:"center"}],items:e})}}]),t}(n.Component),rn=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return console.log("FOFOFO",this.props),r.a.createElement(r.a.Fragment,null,r.a.createElement(oa,Object.assign({title:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435",body:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u0442\u0435\u0441\u044c \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c ".concat(this.props.id," \u0441 ").concat(this.props.alias_id," ? \u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e!"),buttonComponent:Ht.a,actionName:"\u041e\u0431\u044a\u0435\u0434\u0438\u043d\u0438\u0442\u044c",onAction:function(t){return e.props.mergeItem(e.props.api,e.props.resource,e.props.id,e.props.alias_id,t)},hashPrefix:"MERGE"},this.props)))}}]),t}(n.Component),on=Object(u.c)(null,function(e){return{mergeItem:function(t,a,n,r,i){return e(Be(t,a,n,r,i))}}})(rn),sn=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).renderLineToolbar=function(e,t){return r.a.createElement(on,{api:Za,resource:Xa,id:a.props.id,alias_id:e,updateData:t})},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e="/api/suppliers/"+this.props.id+"/duplicates/";return r.a.createElement(dt,{api:e,resource:"suppliers_duplicates"},r.a.createElement(Ja,Object.assign({renderLineToolbar:this.renderLineToolbar},this.props)))}}]),t}(n.Component),cn=Xe(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ze,{header:e.data.name,subHeader:e.data.job}),r.a.createElement(At,{id:e.id,resource:Xa,tab:e.match.params.tab,history:e.local_history},r.a.createElement(ct.a.Pane,{eventKey:"info",label:"\u0418\u043d\u0444\u043e"},r.a.createElement(be.a,null,r.a.createElement(ve.a,{sm:8},r.a.createElement(en,e)),r.a.createElement(ve.a,{sm:4},r.a.createElement(an,{data:e.data,updateData:e.updateData})))),r.a.createElement(ct.a.Pane,{eventKey:"options",label:"\u041e\u043f\u0446\u0438\u0438"},r.a.createElement(Da,Object.assign({id:e.id},e,{data:e.data.options}))),r.a.createElement(ct.a.Pane,{eventKey:"payers",label:"\u041f\u043b\u0430\u0442\u0435\u043b\u044c\u0449\u0438\u043a\u0438"},r.a.createElement(nn,Object.assign({id:e.id},e,{data:e.data.payers}))),r.a.createElement(ct.a.Pane,{eventKey:"finances",label:"\u0424\u0438\u043d\u0430\u043d\u0441\u044b"},r.a.createElement(Xt,Object.assign({id:e.id},e,{data:e.data.finances}))),r.a.createElement(ct.a.Pane,{eventKey:"duplicates",label:"\u0414\u0443\u0431\u043b\u0438\u043a\u0430\u0442\u044b"},r.a.createElement(sn,e))))},Za,Xa),ln=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e={name:{title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",sm:12,validation:xe.string().required("Required")},job:{title:"\u0424\u0443\u043d\u043a\u0446\u0438\u044f",sm:12,validation:xe.string().required("Required")},description:{title:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",sm:12,type:"textarea",validation:xe.string()},website:{title:"\u0421\u0430\u0439\u0442",sm:12,validation:xe.string().url()}},t="new"===this.props.id?"/suppliers/":"/suppliers/"+this.props.id;return r.a.createElement("div",null,r.a.createElement(ze,{header:this.props.name,subHeader:this.props.job}),r.a.createElement(S.a,{fluid:!0,style:{paddingLeft:40,paddingRight:40}},r.a.createElement(it,Object.assign({fieldList:e,onSubmit:this.onSubmit,initialValues:this.props.data,onSuccessLink:t},this.props))))}}]),t}(n.Component),un=function(e){var t=Xe(ln,Za,Xa,void 0);return r.a.createElement(t,e)},pn=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={hash:0},a.handleClose=function(){a.props.hideConfirmation()},a.onAction=function(){a.handleClose();var e=a.props.confirmation.data.hashPrefix+Date();a.setState({status:H,hash:e}),a.props.confirmation.data.onAction(e)},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){var n=this.state.hash;0!==n&&void 0!==this.props.hashUpdates[n]&&(this.setState({hash:0}),console.log("C-M2",this.props),this.props.confirmation.data&&this.props.confirmation.data.updateData&&this.props.confirmation.data.updateData())}},{key:"render",value:function(){if(console.log("C-M",this.props.confirmation),!this.props.confirmation.data)return"";var e=this.props.confirmation.data,t=this.props.confirmation.show;return r.a.createElement(Mt.a,{show:t},r.a.createElement(Mt.a.Header,{closeButton:!0},r.a.createElement(Mt.a.Title,null,e.title)),r.a.createElement(Mt.a.Body,null,e.body),r.a.createElement(Mt.a.Footer,null,r.a.createElement(Oe.a,{variant:"secondary",onClick:this.handleClose},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),r.a.createElement(Oe.a,{variant:"danger",onClick:this.onAction},e.buttonActionName)))}}]),t}(n.Component),dn=Object(u.c)(function(e){return{confirmation:se(e),hashUpdates:re(e)}},function(e){return{hideConfirmation:function(){return e({type:"@@CONFIRMATIONS/HIDE"})}}})(pn),mn=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;console.log("PROPS",this.props);var t=r.a.createElement(f.a,null,r.a.createElement(b.a,{path:"/login/",component:we}),r.a.createElement(b.a,{path:"/signup/",component:Ie}),r.a.createElement(b.a,{exact:!0,path:"/auth/google/complete/",component:function(){return r.a.createElement(Ue,Object.assign({},e.props,{provider:"google-oauth2"}))}}),r.a.createElement(b.a,{path:"*",component:we})),a=r.a.createElement(f.a,null,r.a.createElement(b.a,{exact:!0,path:"/cont_options/:id",component:st}),r.a.createElement(b.a,{exact:!0,path:"/deals/",component:Ft}),r.a.createElement(b.a,{exact:!0,path:"/deals/:id/edit",component:Dt}),r.a.createElement(b.a,{exact:!0,path:"/deals/:id/:tab",component:Lt}),r.a.createElement(b.a,{exact:!0,path:"/deals/:id",component:Lt}),r.a.createElement(b.a,{exact:!0,path:"/deals/:deal_id/Projects/:id",component:ga}),r.a.createElement(b.a,{exact:!0,path:"/projects/",component:qt}),r.a.createElement(b.a,{exact:!0,path:"/projects/:id/edit",component:ga}),r.a.createElement(b.a,{exact:!0,path:"/projects/:id/:tab",component:ba}),r.a.createElement(b.a,{exact:!0,path:"/projects/:id",component:ba}),r.a.createElement(b.a,{exact:!0,path:"/options/",component:Da}),r.a.createElement(b.a,{exact:!0,path:"/options/:id/edit",component:wa}),r.a.createElement(b.a,{exact:!0,path:"/options/:id/:tab",component:Aa}),r.a.createElement(b.a,{exact:!0,path:"/options/:id",component:Aa}),r.a.createElement(b.a,{exact:!0,path:"/options/:option_id/Projects/:id",component:ga}),r.a.createElement(b.a,{exact:!0,path:"/options/",component:Da}),r.a.createElement(b.a,{exact:!0,path:"/options/:id/edit",component:wa}),r.a.createElement(b.a,{exact:!0,path:"/payers/:id/edit",component:ka}),r.a.createElement(b.a,{exact:!0,path:"/payers/:id",component:Ia}),r.a.createElement(b.a,{exact:!0,path:"/services/",component:Fa}),r.a.createElement(b.a,{exact:!0,path:"/services/group/:id",component:ta}),r.a.createElement(b.a,{exact:!0,path:"/services/:id/edit",component:Pa}),r.a.createElement(b.a,{exact:!0,path:"/services/:id/:tab",component:Ya}),r.a.createElement(b.a,{exact:!0,path:"/services/:id",component:Ya}),r.a.createElement(b.a,{exact:!0,path:"/services/:service_id/options/:id",component:wa}),"// Suppliers",r.a.createElement(b.a,{exact:!0,path:"/suppliers/",component:$a}),r.a.createElement(b.a,{exact:!0,path:"/suppliers/:id/edit",component:un}),r.a.createElement(b.a,{exact:!0,path:"/suppliers/:id/:tab",component:cn}),r.a.createElement(b.a,{exact:!0,path:"/suppliers/:id",component:cn}),r.a.createElement(b.a,{exact:!0,path:"/suppliers/:supplier_id/payers/:id",component:ka}),r.a.createElement(b.a,{exact:!0,path:"/",render:function(){return r.a.createElement(v.a,{to:"/projects"})}}),r.a.createElement(b.a,{exact:!0,path:"/login",render:function(){return r.a.createElement(v.a,{to:"/projects"})}}),r.a.createElement(b.a,{exact:!0,path:"/auth/*",render:function(){return r.a.createElement(v.a,{to:"/projects"})}}),r.a.createElement(b.a,{path:"*",component:Ne}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(dn,null),r.a.createElement(fe,Object.assign({onLogout:this.props},this.props)),this.props.isAuthenticated?a:t,r.a.createElement(ge,this.props))}}]),t}(n.Component),hn=Object(g.a)(Object(u.c)(function(e){return{errors:Z(e),isAuthenticated:W(e),refreshTime:$(e)}},function(e){return{onLogout:function(){return e({type:"@@jwt/LOGOUT"})}}})(mn)),En=a(246),fn=a(241),bn=a(106),vn=a(242),gn=a(243);var yn=function(){var e=[];return function(t){var a=t.dispatch,n=t.getState,r=Object(pe.apiMiddleware)({dispatch:a,getState:n});return function(t){return function(a){if(Object(pe.isRSAA)(a)){var i=n(),o=X(i);return o&&J(i)?(e.push(a),1===e.length?r(function(a){a.type===k?(t(a),e.forEach(function(e){r(t)(e)}),e=[]):t(a)})(Le(o)):void 0):r(t)(a)}return t(a)}}}}();a(491),a(492),a(493),a(494);a.d(t,"store",function(){return jn});var On=c()(),jn=function(e){var t=Object(fn.createFilter)("auth",["access","refresh"]),a=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||D.d,n=Object(bn.persistReducer)({key:"polls",storage:En.a,whitelist:["auth"],transforms:[t]},function(e){return Object(D.c)({router:Object(l.b)(e),auth:U,search:P,dataLoader:B,modals:K,typeAhead:V})}(e)),r=Object(D.e)(n,{},a(Object(D.a)(yn,Object(vn.routerMiddleware)(e),gn.a)));return Object(bn.persistStore)(r),r}(On);console.log("PROCESS",Object({NODE_ENV:"production",PUBLIC_URL:""})),o.a.render(r.a.createElement(u.a,{store:jn},r.a.createElement(l.a,{history:On},r.a.createElement(hn,null))),document.getElementById("root"))}},[[249,1,2]]]);
//# sourceMappingURL=main.1cfb5dc6.chunk.js.map